{"componentChunkName":"component---src-templates-documentation-js","path":"/docs/batch-developer-guides/batch/spring-batch/","result":{"data":{"pages":{"edges":[{"node":{"id":"78a8e85e-5f01-5618-bd81-d5d803c774cd","fields":{"path":"/docs/installation/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Installation","description":"How to install Data Flow","path":"installation/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"295a03d6-ecd7-5f01-8969-c06c5bc7fd7d","fields":{"path":"/docs/installation/local/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Local Machine","description":"Local Machine Installation Guide","path":"installation/local/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4d0d8d5e-d5b3-5e18-962b-ef8a77117291","fields":{"path":"/docs/installation/local/docker/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Docker Compose","description":"Installation using Docker Compose","path":"installation/local/docker","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"28dc7083-0be0-526f-9fa3-4f0ba4e29a8d","fields":{"path":"/docs/installation/local/docker-customize/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Docker Compose Customization","description":"Customize the Docker Compose installation","path":"installation/local/docker-customize","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e692bbd4-45b0-5773-8c52-5fa941c33377","fields":{"path":"/docs/installation/local/manual/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Manual","description":"Manual installation","path":"installation/local/manual","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f817e906-929a-5072-80b9-b7e7ff7f7476","fields":{"path":"/docs/installation/cloudfoundry/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Cloud Foundry","description":"Data Flow Cloud Foundry Installation Guide","path":"installation/cloudfoundry/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"037a2b13-6663-559c-89a4-720679b74c82","fields":{"path":"/docs/installation/cloudfoundry/cf-cli/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Cloud Foundry CLI","description":"Install using the Cloud Foundry CLI","path":"installation/cloudfoundry/cf-cli","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"fa54e840-d22c-5a59-8fe5-a8a043fb70c7","fields":{"path":"/docs/installation/cloudfoundry/cf-local/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Running locally","description":"Configure the local servers to deploy to Cloud Foundry","path":"installation/cloudfoundry/cf-local","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"aab817ac-442a-544c-bb15-3c2a95d3e20b","fields":{"path":"/docs/installation/kubernetes/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Kubernetes","description":"Data Flow Kubernetes Installation Guide","path":"installation/kubernetes/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9f9be743-96a6-5bfd-9027-5ddcfba492bd","fields":{"path":"/docs/installation/kubernetes/creating-a-cluster/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Creating a Cluster","description":"Creating a Kubernetes Cluster","path":"installation/kubernetes/creating-a-cluster","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1a07df9d-565e-5793-a2db-6da98a3a49da","fields":{"path":"/docs/installation/kubernetes/helm/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Helm","description":"Installation using Helm","path":"installation/kubernetes/helm","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"cf7e16a0-6740-5ac0-8880-fe0d5d4fd823","fields":{"path":"/docs/installation/kubernetes/kubectl/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"kubectl","description":"Installation using kubectl","path":"installation/kubernetes/kubectl","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"b74a4b88-a44e-553c-8e39-07ed16380138","fields":{"path":"/docs/installation/kubernetes/compatibility/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Kubernetes Compatibility","description":"Compatibility with Kubernetes Versions","path":"installation/kubernetes/compatibility","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4120c561-dc52-5298-9675-59f78874edcc","fields":{"path":"/docs/installation/migration/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Migration","description":"Data Flow Version Migration Guide","path":"installation/migration/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"620fc6f9-72eb-5307-a050-c7d1e92c34e3","fields":{"path":"/docs/installation/migration/migration-2-7-to-2-8/","version":"2.8.x","category":"installation"},"frontmatter":{"title":"Migrate from 2.7 to 2.8","description":"Migrating Spring Cloud Data Flow from version 2.7 to 2.8","path":"installation/migration/migration-2-7-to-2-8","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c1a5eb8b-6333-51c1-b11d-550c0084ae43","fields":{"path":"/docs/concepts/","version":"2.8.x","category":"concepts"},"frontmatter":{"title":"Concepts","description":"Core Concepts in Spring Cloud Data Flow","path":"concepts/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5b2fef58-3c87-52d0-897f-6a22ac939689","fields":{"path":"/docs/concepts/architecture/","version":"2.8.x","category":"concepts"},"frontmatter":{"title":"Architecture","description":"Introduction to Data Flow's Architecture.","path":"concepts/architecture/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f8f1cc63-6fbc-574a-90e8-eba60a443f02","fields":{"path":"/docs/concepts/streams/","version":"2.8.x","category":"concepts"},"frontmatter":{"title":"Stream Processing","description":"Stream Processing Framework and Concepts","path":"concepts/streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"803f6eab-f996-5090-b5e7-53623a88a01f","fields":{"path":"/docs/concepts/batch-jobs/","version":"2.8.x","category":"concepts"},"frontmatter":{"title":"Batch Processing","description":"Batch Processing Framework and Concepts","path":"concepts/batch-jobs/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7ec25e03-e08d-50a0-ba8d-cc9c2d824c1e","fields":{"path":"/docs/concepts/monitoring/","version":"2.8.x","category":"concepts"},"frontmatter":{"title":"Monitoring","description":"Runtime monitoring of Servers, Stream and Task data pipelines","path":"concepts/monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"14f60b90-8c39-5f97-b2aa-60367ed98838","fields":{"path":"/docs/concepts/tooling/","version":"2.8.x","category":"concepts"},"frontmatter":{"title":"Tooling","description":"Dashboard and Shell","path":"concepts/tooling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"008a159b-19d0-5bcb-903e-3d6c4b2c554b","fields":{"path":"/docs/stream-developer-guides/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Developer guides ","description":"Learn how to create Streaming data pipelines using prebuilt microservices or create your own.","path":"stream-developer-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7c874795-2b08-5fa5-8ccf-836b1650ffb1","fields":{"path":"/docs/stream-developer-guides/getting-started/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Getting Started","description":"Getting Started with Stream Processing","path":"stream-developer-guides/getting-started/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"44baf964-79c6-55cb-9608-8a2679efe5c0","fields":{"path":"/docs/stream-developer-guides/getting-started/stream/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Processing","description":"Create and deploy a streaming data pipeline using prebuilt applications on your Local Machine","path":"stream-developer-guides/getting-started/stream/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a7f99fe2-4c55-55bd-9cd7-15b641334e1d","fields":{"path":"/docs/stream-developer-guides/streams/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Development","description":"Stream Processing Developer Guide","path":"stream-developer-guides/streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7ed607d7-aca7-5970-862a-ae5ac936c511","fields":{"path":"/docs/stream-developer-guides/streams/standalone-stream-sample/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Application Development","description":"Create your own microservices for Stream processing and deploy them manually","path":"stream-developer-guides/streams/standalone-stream-sample/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2858e9fa-c9d6-5e75-922c-2646ecc55700","fields":{"path":"/docs/stream-developer-guides/streams/deployment/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Application Deployment","description":"Deploy stream sample applications","path":"stream-developer-guides/streams/deployment","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"fd8cc186-9989-5474-bb42-644defba350d","fields":{"path":"/docs/stream-developer-guides/streams/deployment/local/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Deploy sample stream applications to local host","description":"Deploy sample stream applications to local host ","path":"stream-developer-guides/streams/deployment/local","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7f262d81-56a2-5819-8e84-02734749a125","fields":{"path":"/docs/stream-developer-guides/streams/deployment/kubernetes/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Deploy sample stream applications to Kubernetes","description":"Deploy sample stream applications to Kubernetes","path":"stream-developer-guides/streams/deployment/kubernetes","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5e362f72-8b14-59a9-8e24-0e36c751d627","fields":{"path":"/docs/stream-developer-guides/streams/deployment/cloudfoundry/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Deploy sample stream applications to Cloud Foundry","description":"Deploy sample stream applications to Cloud Foundry","path":"stream-developer-guides/streams/deployment/cloudfoundry","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5a9c8ff5-2cf6-5135-b2df-985cff4d2b06","fields":{"path":"/docs/stream-developer-guides/streams/data-flow-stream/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Stream Processing using Spring Cloud Data Flow","description":"Create and Deploy a Stream Processing Pipeline using Spring Cloud Data Flow","path":"stream-developer-guides/streams/data-flow-stream/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3910c2ba-d32f-5923-9e06-6a860dded94b","fields":{"path":"/docs/stream-developer-guides/streams/stream-other-binders/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Spring Application Development on other Messaging Middleware","description":"Create your own microservices for Stream processing using other messaging middleware such as Google Pub/Sub, Amazon Kinesis, and Solace JMS","path":"stream-developer-guides/streams/stream-other-binders/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"fccee968-a7f4-515c-a43e-92f3a436874c","fields":{"path":"/docs/stream-developer-guides/programming-models/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Programming Models","description":"Programming models","path":"stream-developer-guides/programming-models/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"298864b5-be3c-5a49-b433-a47c33308c17","fields":{"path":"/docs/stream-developer-guides/continuous-delivery/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Continuous Delivery","description":"CD using Skipper","path":"stream-developer-guides/continuous-delivery/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e9fc9c21-0703-5b19-aee3-30d81fa8df33","fields":{"path":"/docs/stream-developer-guides/continuous-delivery/cd-basics/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Continuous Delivery of streaming applications","description":"Continuous Delivery of Streaming applications","path":"stream-developer-guides/continuous-delivery/cd-basics/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5a03bec5-b7f0-502f-a900-0e7159f2bce0","fields":{"path":"/docs/stream-developer-guides/troubleshooting/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Troubleshooting","description":"Troubleshooting Streams","path":"stream-developer-guides/troubleshooting/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"364a7fbf-2865-52f2-909d-4c1c078a190f","fields":{"path":"/docs/stream-developer-guides/troubleshooting/debugging-stream-apps/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Debugging Stream Applications","description":"Debugging Stream Applications outside of Data Flow","path":"stream-developer-guides/troubleshooting/debugging-stream-apps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2c05d32e-2659-5bc9-8434-094f90f63f0c","fields":{"path":"/docs/stream-developer-guides/troubleshooting/debugging-scdf-streams/","version":"2.8.x","category":"stream-developer-guides"},"frontmatter":{"title":"Debugging Stream applications deployed by Data Flow","description":"Debugging Data Flow Stream deployments","path":"stream-developer-guides/troubleshooting/debugging-scdf-streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9da1ee34-5757-51c5-8701-e95fff76a4c0","fields":{"path":"/docs/batch-developer-guides/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Batch Developer guides ","description":"Learn how to create Batch data pipelines using prebuilt microservices or create your own","path":"batch-developer-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"d1bc3b7c-15b3-58fb-954c-f812698b7022","fields":{"path":"/docs/batch-developer-guides/getting-started/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Getting Started","description":"Getting Started with Batch","path":"batch-developer-guides/getting-started/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"743cdfca-503a-5a45-8d33-0d9403c6b01a","fields":{"path":"/docs/batch-developer-guides/getting-started/task/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Task Processing","description":"Create and deploy a simple Task pipeline using a prebuilt Task application on your local machine","path":"batch-developer-guides/getting-started/task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9d91e118-32d3-5d31-9a42-a5a637939828","fields":{"path":"/docs/batch-developer-guides/batch/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Batch Development","description":"Batch Developer Guide","path":"batch-developer-guides/batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7ff8a430-b7d5-5d0c-b947-848f82b343a2","fields":{"path":"/docs/batch-developer-guides/batch/spring-task/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Simple Task","description":"Create a simple Spring Boot Application using Spring Cloud Task","path":"batch-developer-guides/batch/spring-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"d409b617-d274-5880-b340-4a4983e15c7a","fields":{"path":"/docs/batch-developer-guides/batch/spring-batch/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Spring Batch Jobs","description":"Create a Spring Batch Job","path":"batch-developer-guides/batch/spring-batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"78186f14-f2f7-5857-8f31-53202bcf3090","fields":{"path":"/docs/batch-developer-guides/batch/data-flow-simple-task/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Register and Launch a Spring Cloud Task application using Data Flow","description":"Register and Launch a Spring Cloud Task application using Data Flow","path":"batch-developer-guides/batch/data-flow-simple-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4cd471b5-a537-5444-9dea-53e50716fbd1","fields":{"path":"/docs/batch-developer-guides/batch/data-flow-spring-batch/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Register and launch a Spring Batch application using Data Flow","description":"Register and launch a Spring Batch application using Data Flow","path":"batch-developer-guides/batch/data-flow-spring-batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c45c1933-b48d-5bc8-8d57-d3b80ace9ff0","fields":{"path":"/docs/batch-developer-guides/batch/data-flow-composed-task/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Create and launch a Composed Task using Data Flow","description":"Create and launch a Composed Task using Data Flow","path":"batch-developer-guides/batch/data-flow-composed-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7298c3d7-cb71-50aa-a5b8-324a98467cf9","fields":{"path":"/docs/batch-developer-guides/batch/data-flow-simple-task-kubernetes/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Deploying a task application on Kubernetes with Data Flow","description":"Guide to deploying spring-cloud-stream-task applications on Kubernetes using Spring Cloud Data Flow","path":"batch-developer-guides/batch/data-flow-simple-task-kubernetes/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"380280e1-1bd5-5501-b24b-e2f41fadbfe3","fields":{"path":"/docs/batch-developer-guides/batch/data-flow-simple-task-cloudfoundry/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Deploying a task application on Cloud Foundry using Spring Cloud Data Flow","description":"Guide to deploying spring-cloud-stream-task applications on Cloud Foundry using Spring Cloud Data Flow","path":"batch-developer-guides/batch/data-flow-simple-task-cloudfoundry/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"d3ba00b5-7637-5028-8446-d380637bc15e","fields":{"path":"/docs/batch-developer-guides/continuous-deployment/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Continuous Deployment","description":"Continuous Deployment for task applications","path":"batch-developer-guides/continuous-deployment/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a8f89367-8f34-5210-a7b1-909fb3da2030","fields":{"path":"/docs/batch-developer-guides/continuous-deployment/cd-basics/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Continuous Deployment of task applications","description":"This section discusses how to use Continuous Deployment of Tasks in SCDF","path":"batch-developer-guides/continuous-deployment/cd-basics/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e80e3a15-663c-59a0-ae78-5c993b365cf8","fields":{"path":"/docs/batch-developer-guides/troubleshooting/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Troubleshooting","description":"Troubleshooting Batch Jobs","path":"batch-developer-guides/troubleshooting/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"34e86cdd-1420-577f-9f43-803f4f513798","fields":{"path":"/docs/batch-developer-guides/troubleshooting/debugging-task-apps/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Debugging Batch applications","description":"Debugging Batch applications","path":"batch-developer-guides/troubleshooting/debugging-task-apps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2c287620-b52b-5afe-a796-e09a8f61ecdf","fields":{"path":"/docs/batch-developer-guides/troubleshooting/debugging-scdf-tasks/","version":"2.8.x","category":"batch-developer-guides"},"frontmatter":{"title":"Debugging Batch applications deployed by Data Flow","description":"Debugging Batch applications deployed by Data Flow","path":"batch-developer-guides/troubleshooting/debugging-scdf-tasks/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"35a2ba45-3105-540f-951e-5735e9bd8427","fields":{"path":"/docs/feature-guides/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Feature guides","description":"High level overview of Data Flow Features","path":"feature-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bc4ba0d2-c91d-5bf8-8e43-eb54b754a50f","fields":{"path":"/docs/feature-guides/general/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"General","description":"General Features in Data Flow","path":"feature-guides/general/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"fae035fb-42eb-510e-ba7a-9b80c4c6e876","fields":{"path":"/docs/feature-guides/general/server-monitoring/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Server Monitoring","description":"Monitoring Data Flow and Skipper servers","path":"feature-guides/general/server-monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"81c09cd2-3adc-59aa-8316-076f524db00e","fields":{"path":"/docs/feature-guides/streams/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Streams","description":"Stream Features in Data Flow","path":"feature-guides/streams/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"92b7e6d0-e3b9-5f96-9d35-300c8c509c69","fields":{"path":"/docs/feature-guides/streams/deployment-properties/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Deployment Properties","description":"Initiate a stream deployment with deployment property overrides","path":"feature-guides/streams/deployment-properties/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"5ed8713c-ddc2-5769-848f-2edb640101f9","fields":{"path":"/docs/feature-guides/streams/function-composition/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Composing Functions","description":"Daisy-chain Java functions in an existing Spring Cloud Stream application","path":"feature-guides/streams/function-composition/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c54484b6-c7ec-5fb4-a76f-fd30a6306609","fields":{"path":"/docs/feature-guides/streams/named-destinations/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Named Destinations","description":"Use the Named Destinations to interact with the Topics/Queues directly","path":"feature-guides/streams/named-destinations/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"78ac14cf-15bf-5df3-aee9-cc1e1743fa8f","fields":{"path":"/docs/feature-guides/streams/monitoring/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Stream Monitoring","description":"Monitoring streaming data pipelines with Prometheus and InfluxDB","path":"feature-guides/streams/monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4187bfee-e841-55b6-a361-b0a5e2da69c1","fields":{"path":"/docs/feature-guides/streams/tracing/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Stream Distributed Tracing","description":"Tracing streaming data pipelines","path":"feature-guides/streams/tracing/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"faa55dc8-a268-5cd6-bb97-10982b8daa2b","fields":{"path":"/docs/feature-guides/streams/stream-application-dsl/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Stream Application DSL","description":"Learn how to use the Stream Application DSL","path":"feature-guides/streams/stream-application-dsl/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"8935ae36-8e9b-5d5a-8656-861748a66d68","fields":{"path":"/docs/feature-guides/streams/labels/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Labeling Applications","description":"Label the stream applications to uniquely interact with them","path":"feature-guides/streams/labels/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f6dcd600-5da1-5369-bb2c-c34c1817f8fc","fields":{"path":"/docs/feature-guides/streams/application-count/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Application Count","description":"Initiate stream deployment with multiple application instances","path":"feature-guides/streams/application-count/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1736be39-e361-5c5e-a8ec-50bd929d7a95","fields":{"path":"/docs/feature-guides/streams/fanin-fanout/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Fan-in and Fan-out","description":"Publish and subscribe to multiple destinations using the fan-in and fan-out capabilities","path":"feature-guides/streams/fanin-fanout/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f88add39-4fb5-52e3-b756-0b25b6c5a13f","fields":{"path":"/docs/feature-guides/streams/partitioning/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Data Partitioning","description":"Learn more about data partitioning support to build stateful streaming data pipelines","path":"feature-guides/streams/partitioning/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"b5d56f61-e372-5a8f-8733-27a1702dd8ac","fields":{"path":"/docs/feature-guides/streams/scaling/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Scaling","description":"Scaling streaming data pipeline with Spring Cloud Data Flow","path":"feature-guides/streams/scaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"bb0089ff-c73c-5f98-ac29-8cb49017ebc4","fields":{"path":"/docs/feature-guides/streams/java-dsl/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Stream Java DSL","description":"Programmatically create streams using the Java DSL","path":"feature-guides/streams/java-dsl/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"811003f2-fb3d-5c51-8bb9-caa009eea820","fields":{"path":"/docs/feature-guides/streams/taps/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Tapping a Stream","description":"Create a stream from another stream without interrupting the data processing","path":"feature-guides/streams/taps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"669b3288-f4c5-5b63-9f5f-b859cb78c125","fields":{"path":"/docs/feature-guides/batch/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Batch","description":"Batch Features in Data Flow","path":"feature-guides/batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f5105b59-9c2c-5749-82b4-d4d0420868d2","fields":{"path":"/docs/feature-guides/batch/deployment-properties/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Deployment Properties","description":"Initiate a Batch deployment with deployment property overrides","path":"feature-guides/batch/deployment-properties/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9a2e5b75-f580-5c02-bcd4-3a262aa5b217","fields":{"path":"/docs/feature-guides/batch/scheduling/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Scheduling Batch Jobs","description":"Learn how to schedule Batch Jobs","path":"feature-guides/batch/scheduling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"2fc1768b-efb5-580c-8f3b-9e197b72ace4","fields":{"path":"/docs/feature-guides/batch/partitioning/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Remote Partitioned Batch Job","description":"Learn more about partitioning support for Batch Jobs","path":"feature-guides/batch/partitioning/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"98c6cfe1-5968-5275-9bc5-fce89f0b1ac0","fields":{"path":"/docs/feature-guides/batch/monitoring/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Task Monitoring","description":"Monitoring task data pipelines with InfluxDB","path":"feature-guides/batch/monitoring/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f7225a5b-634c-5363-8767-8fd8e85e5dcc","fields":{"path":"/docs/feature-guides/batch/restarting/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Restarting Batch Jobs","description":"Learn how to restart Batch Jobs","path":"feature-guides/batch/restarting/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3e8d158a-f42c-5bcf-a363-d53e264c5a6f","fields":{"path":"/docs/feature-guides/batch/composed-task/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Composed Tasks","description":"Learn how to create and manage composed tasks","path":"feature-guides/batch/composed-task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"d9b88525-7bcb-578a-b0e1-c37877bb5c9b","fields":{"path":"/docs/feature-guides/batch/java-dsl/","version":"2.8.x","category":"feature-guides"},"frontmatter":{"title":"Task Java DSL","description":"Programmatically create tasks using the Java DSL","path":"feature-guides/batch/java-dsl/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1835b44f-e058-5aec-ae19-fd080f9f3f73","fields":{"path":"/docs/commercial-feature-guides/","version":"2.8.x","category":"commercial-feature-guides"},"frontmatter":{"title":"Commercial feature guides","description":"High level overview of Data Flow Commercial Feature Guide","path":"commercial-feature-guides/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"d282a13e-f190-540b-8894-703da1c302a7","fields":{"path":"/docs/recipes/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Recipes","description":"Recipes that help solve some common use-cases","path":"recipes/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"67ee0945-6d1c-595b-a97a-df2f14066b46","fields":{"path":"/docs/recipes/polyglot/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Polyglot","description":"Using multiple programming languages","path":"recipes/polyglot/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3548fb3e-3cd7-50ba-9fc2-926362ca7df5","fields":{"path":"/docs/recipes/polyglot/processor/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Python Stream Processor","description":"Python Application as a Data Flow Stream Processor","path":"recipes/polyglot/processor/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"66bdff1d-978f-5257-bc71-14782e9f515c","fields":{"path":"/docs/recipes/polyglot/task/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Python Task","description":"Create and Deploy a Python Task","path":"recipes/polyglot/task/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"c44f664d-d6ae-564f-a770-82d55edb7a82","fields":{"path":"/docs/recipes/polyglot/app/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Python Application","description":"Create and Deploy a Python Application in a Stream","path":"recipes/polyglot/app/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"b63ea52a-c733-52ac-8057-5551c739cbcc","fields":{"path":"/docs/recipes/rabbitmq/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"RabbitMQ","description":"RabbitMQ","path":"recipes/rabbitmq/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"ca899775-9ade-56ff-84be-c6a24a773a0d","fields":{"path":"/docs/recipes/rabbitmq/rabbit-source-sink/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"RabbitMQ as Source and Sink","description":"RabbitMQ as Source and Sink + RabbitMQ binder","path":"recipes/rabbitmq/rabbit-source-sink/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3792e1e2-ba04-5c5e-a80c-cfb90e18eab8","fields":{"path":"/docs/recipes/kafka/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Apache Kafka","description":"Kafka","path":"recipes/kafka/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"62f492cb-3ddf-5fe7-8ec6-ba0003656360","fields":{"path":"/docs/recipes/kafka/ext-kafka-cluster-cf/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"External Kafka Cluster","description":"Connect to an external Kafka Cluster from Cloud Foundry","path":"recipes/kafka/ext-kafka-cluster-cf/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"7aeb23b2-e3d1-5c8b-bfaf-cb767eb1c1e9","fields":{"path":"/docs/recipes/kinesis/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Amazon Kinesis","description":"Amazon Kinesis","path":"recipes/kinesis/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"e1ca6a14-64fe-51ff-badd-da8bb1c3b7e4","fields":{"path":"/docs/recipes/kinesis/simple-producer-consumer/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Amazon Kinesis Binder","description":"A sample of Spring Cloud Stream + Amazon Kinesis Binder in action","path":"recipes/kinesis/simple-producer-consumer/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"024e09c9-ca74-5d54-bc9e-722d0951c169","fields":{"path":"/docs/recipes/multi-platform-deployment/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Multiple Platform Deployments","description":"Multiple Platform Deployments","path":"recipes/multi-platform-deployment/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"03399ce4-0c07-5b9d-ac50-ee4eac0f8947","fields":{"path":"/docs/recipes/multi-platform-deployment/multiple-platform-accounts/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Role of Multiple Platform Deployments","description":"A walk-through of multiple platform requirements and the configurations for Cloud Foundry and Kubernetes","path":"recipes/multi-platform-deployment/multiple-platform-accounts","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"4328daea-3b62-53f0-b299-9c5579fc021e","fields":{"path":"/docs/recipes/multi-platform-deployment/multi-platform-task/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Multiple Platform support for Tasks","description":"Learn how to launch and schedule tasks across multiple platforms","path":"recipes/multi-platform-deployment/multi-platform-task","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"b4f88cd1-2a75-5407-ba17-12f332eb8038","fields":{"path":"/docs/recipes/scaling/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Scaling","description":"Prometheus and Data Flow to autoscale streaming data pipelines","path":"recipes/scaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"9c73e30d-3f78-5716-8296-c4b2c363e568","fields":{"path":"/docs/recipes/scaling/manual-scaling/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Manual Scaling","description":"Scale applications using SCDF Shell","path":"recipes/scaling/manual-scaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"1862d3f2-924c-59fb-974f-49fd976815d7","fields":{"path":"/docs/recipes/scaling/autoscaling/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Autoscaling","description":"Autoscale streaming data pipeline with SCDF and Prometheus","path":"recipes/scaling/autoscaling/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"037c0d3d-65b7-58ca-a835-7e1ff15c84f0","fields":{"path":"/docs/recipes/batch/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Batch","description":"Using Spring Cloud Data Flow with Spring Batch","path":"recipes/batch/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"cdb7196d-a891-5727-8582-88a7ad6c6932","fields":{"path":"/docs/recipes/batch/batch-only-mode/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Batch-only Mode","description":"Set up Spring Cloud Data Flow to use only batch and not streams","path":"recipes/batch/batch-only-mode/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f9c8406a-8e78-5c1a-8cd1-bff484765a0e","fields":{"path":"/docs/recipes/batch/sftp-to-jdbc/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"SFTP to JDBC","description":"Ingest Files from SFTP to a JDBC data store using Data Flow and Spring Batch","path":"recipes/batch/sftp-to-jdbc/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3e389640-e241-5918-a5c8-06dd686d431e","fields":{"path":"/docs/recipes/functional-apps/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Functional Applications","description":"Using Functional Approach in Spring Cloud Stream applications","path":"recipes/functional-apps/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"96cf28ef-2f18-5534-8dcc-73556a5ba13f","fields":{"path":"/docs/recipes/functional-apps/scst-function-bindings/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Functional Applications","description":"Configuring the Spring Cloud Stream Functional applications","path":"recipes/functional-apps/scst-function-bindings/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f2d9e093-a10b-5b37-9fcf-b800639dc467","fields":{"path":"/docs/recipes/cloud-providers/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"Cloud Providers","description":"Using functionality provided by cloud providers","path":"recipes/cloud-providers/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"f1a32c5a-87da-5d37-95b7-37f1e59685ee","fields":{"path":"/docs/recipes/cloud-providers/gke-regional-clusters/","version":"2.8.x","category":"recipes"},"frontmatter":{"title":"GKE Regional Clusters","description":"Deploying Spring Cloud Data Flow to a GKE Regional Cluster","path":"recipes/cloud-providers/gke-regional-clusters/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"635147f1-259a-519d-8513-a57c233cd4a2","fields":{"path":"/docs/resources/","version":"2.8.x","category":"resources"},"frontmatter":{"title":"Resources","description":"Sample Applications, References Docs, Videos, Blogs...","path":"resources/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"98d53937-1c08-51c6-9c4c-485158a70a70","fields":{"path":"/docs/resources/reference-docs/","version":"2.8.x","category":"resources"},"frontmatter":{"title":"Reference Documentation","description":"Collection of reference guides for Spring Cloud Data Flow","path":"resources/reference-docs/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"a6293e63-d671-5a0b-a930-3a5cb49e044f","fields":{"path":"/docs/resources/samples/","version":"2.8.x","category":"resources"},"frontmatter":{"title":"Samples","description":"Collection of samples","path":"resources/samples/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"3740700b-eff1-5b5e-8b51-2fb59fd0ba29","fields":{"path":"/docs/resources/faq/","version":"2.8.x","category":"resources"},"frontmatter":{"title":"Frequently Asked Questions","description":"","path":"resources/faq/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"cb983c1b-2e09-5ba2-b3b6-72b9b83a23ac","fields":{"path":"/docs/applications/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"Applications","description":"Using stream and task applications","path":"applications/","meta_title":null,"meta_description":null,"keywords":null}}},{"node":{"id":"797c9822-56d9-53c7-bc8a-c987c238d632","fields":{"path":"/docs/applications/migration/aggregator-processor/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"aggregator-processor Migration","description":"aggregator-processor Migration","path":"applications/migration/aggregator-processor","meta_title":null,"meta_description":null,"keywords":["application","migration","aggregator-processor"]}}},{"node":{"id":"705a6540-72f4-556b-92e6-7d20169d0b9f","fields":{"path":"/docs/applications/migration/ftp-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"ftp-source Migration","description":"ftp-source Migration","path":"applications/migration/ftp-source","meta_title":null,"meta_description":null,"keywords":["application","migration","ftp-source"]}}},{"node":{"id":"ccdb6b09-50d3-5d58-b858-3edf467509f9","fields":{"path":"/docs/applications/migration/header-enricher-processor/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"header-enricher-processor Migration","description":"header-enricher-processor Migration","path":"applications/migration/header-enricher-processor","meta_title":null,"meta_description":null,"keywords":["application","migration","header-enricher-processor"]}}},{"node":{"id":"41cb3b39-9cb9-51b4-bb40-5336d917f86b","fields":{"path":"/docs/applications/migration/http-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"http-source Migration","description":"http-source Migration","path":"applications/migration/http-source","meta_title":null,"meta_description":null,"keywords":["application","migration","http-source"]}}},{"node":{"id":"8c5aa818-d37f-5a9e-94ea-2009cc2a8ca5","fields":{"path":"/docs/applications/migration/cassandra-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"cassandra-sink Migration","description":"cassandra-sink Migration","path":"applications/migration/cassandra-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","cassandra-sink"]}}},{"node":{"id":"84e8b29e-f255-5b1a-87f7-1cbf15b506c7","fields":{"path":"/docs/applications/migration/image-recognition-processor/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"image-recognition-processor Migration","description":"image-recognition-processor Migration","path":"applications/migration/image-recognition-processor","meta_title":null,"meta_description":null,"keywords":["application","migration","image-recognition-processor"]}}},{"node":{"id":"8f9b874e-2b1d-5d50-82a7-c93befb3e5da","fields":{"path":"/docs/applications/migration/jdbc-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"jdbc-sink Migration","description":"jdbc-sink Migration","path":"applications/migration/jdbc-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","jdbc-sink"]}}},{"node":{"id":"5e313efd-93dd-5343-93b4-6e3924b7c475","fields":{"path":"/docs/applications/migration/jdbc-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"jdbc-source Migration","description":"jdbc-source Migration","path":"applications/migration/jdbc-source","meta_title":null,"meta_description":null,"keywords":["application","migration","jdbc-source"]}}},{"node":{"id":"a6039a98-c762-50fd-a55f-92d58def731d","fields":{"path":"/docs/applications/migration/jms-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"jms-source Migration","description":"jms-source Migration","path":"applications/migration/jms-source","meta_title":null,"meta_description":null,"keywords":["application","migration","jms-source"]}}},{"node":{"id":"93242815-893c-55ba-bf3f-abd638431b6e","fields":{"path":"/docs/applications/migration/load-generator-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"load-generator-source Migration","description":"load-generator-source Migration","path":"applications/migration/load-generator-source","meta_title":null,"meta_description":null,"keywords":["application","migration","load-generator-source"]}}},{"node":{"id":"4cf54ccd-d543-5501-9f3f-7b1c65b0c32b","fields":{"path":"/docs/applications/migration/log-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"log-sink Migration","description":"log-sink Migration","path":"applications/migration/log-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","log-sink"]}}},{"node":{"id":"a0f59fd2-3c0c-5e98-93bb-ae765a90f905","fields":{"path":"/docs/applications/migration/mail-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"mail-source Migration","description":"mail-source Migration","path":"applications/migration/mail-source","meta_title":null,"meta_description":null,"keywords":["application","migration","mail-source"]}}},{"node":{"id":"d20e63e1-c736-51f2-a9f6-9f11ea28b8ea","fields":{"path":"/docs/applications/migration/mongodb-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"mongodb-sink Migration","description":"mongodb-sink Migration","path":"applications/migration/mongodb-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","mongodb-sink"]}}},{"node":{"id":"803ccba5-825f-5022-9d9f-9944b4e22a45","fields":{"path":"/docs/applications/migration/cdc-debezium-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"cdc-debezium-source Migration","description":"cdc-debezium-source Migration","path":"applications/migration/cdc-debezium-source","meta_title":null,"meta_description":null,"keywords":["application","migration","cdc-debezium-source"]}}},{"node":{"id":"fb9aee00-cf98-5c63-a41a-77fcda41e5f5","fields":{"path":"/docs/applications/migration/mongodb-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"mongodb-source Migration","description":"mongodb-source Migration","path":"applications/migration/mongodb-source","meta_title":null,"meta_description":null,"keywords":["application","migration","mongodb-source"]}}},{"node":{"id":"75b1ad67-6ae2-55c1-a165-df9cbd70fee0","fields":{"path":"/docs/applications/migration/mqtt-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"mqtt-sink Migration","description":"mqtt-sink Migration","path":"applications/migration/mqtt-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","mqtt-sink"]}}},{"node":{"id":"689e9e01-1dd8-5499-8c9c-77885620a9ed","fields":{"path":"/docs/applications/migration/mqtt-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"mqtt-source Migration","description":"mqtt-source Migration","path":"applications/migration/mqtt-source","meta_title":null,"meta_description":null,"keywords":["application","migration","mqtt-source"]}}},{"node":{"id":"6de85872-bf11-54f2-b209-e1c128dc58d0","fields":{"path":"/docs/applications/migration/object-detection-processor/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"object-detection-processor Migration","description":"object-detection-processor Migration","path":"applications/migration/object-detection-processor","meta_title":null,"meta_description":null,"keywords":["application","migration","object-detection-processor"]}}},{"node":{"id":"f27e8aa2-ad61-5d81-ad14-0a09df5e1e84","fields":{"path":"/docs/applications/migration/pgcopy-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"pgcopy-sink Migration","description":"pgcopy-sink Migration","path":"applications/migration/pgcopy-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","pgcopy-sink"]}}},{"node":{"id":"d1719e97-915c-56e0-9e13-632bef2d8268","fields":{"path":"/docs/applications/migration/rabbit-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"rabbit-sink Migration","description":"rabbit-sink Migration","path":"applications/migration/rabbit-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","rabbit-sink"]}}},{"node":{"id":"4b27cde0-ece6-59a3-bb43-e6dbad966330","fields":{"path":"/docs/applications/migration/rabbit-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"rabbit-source Migration","description":"rabbit-source Migration","path":"applications/migration/rabbit-source","meta_title":null,"meta_description":null,"keywords":["application","migration","rabbit-source"]}}},{"node":{"id":"ada1fe6a-e6e2-5d8c-9105-c805dfbbdab0","fields":{"path":"/docs/applications/migration/router-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"router-sink Migration","description":"router-sink Migration","path":"applications/migration/router-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","router-sink"]}}},{"node":{"id":"d9d4a87c-bd48-51f3-ba9a-6b7c7063c99d","fields":{"path":"/docs/applications/migration/s3-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"s3-sink Migration","description":"s3-sink Migration","path":"applications/migration/s3-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","s3-sink"]}}},{"node":{"id":"8f21cd41-708f-52b5-ac41-200866f71025","fields":{"path":"/docs/applications/migration/s3-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"s3-source Migration","description":"s3-source Migration","path":"applications/migration/s3-source","meta_title":null,"meta_description":null,"keywords":["application","migration","s3-source"]}}},{"node":{"id":"acff7394-aeee-5d00-a4c9-f0e91c01390e","fields":{"path":"/docs/applications/migration/sftp-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"sftp-sink Migration","description":"sftp-sink Migration","path":"applications/migration/sftp-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","sftp-sink"]}}},{"node":{"id":"b44c1fa7-709b-5326-90d1-7be157483e8a","fields":{"path":"/docs/applications/migration/sftp-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"sftp-source Migration","description":"sftp-source Migration","path":"applications/migration/sftp-source","meta_title":null,"meta_description":null,"keywords":["application","migration","sftp-source"]}}},{"node":{"id":"a8fd176e-4e9d-5cde-9e80-09ac6bf0ac08","fields":{"path":"/docs/applications/migration/splitter-processor/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"splitter-processor Migration","description":"splitter-processor Migration","path":"applications/migration/splitter-processor","meta_title":null,"meta_description":null,"keywords":["application","migration","splitter-processor"]}}},{"node":{"id":"8079acba-6961-504c-a8d8-2467fe0318f6","fields":{"path":"/docs/applications/migration/syslog-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"syslog-source Migration","description":"syslog-source Migration","path":"applications/migration/syslog-source","meta_title":null,"meta_description":null,"keywords":["application","migration","syslog-source"]}}},{"node":{"id":"9ef4a4c9-073d-5271-8c7c-be6d363212a6","fields":{"path":"/docs/applications/migration/tcp-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"tcp-sink Migration","description":"tcp-sink Migration","path":"applications/migration/tcp-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","tcp-sink"]}}},{"node":{"id":"8bb7835f-eb65-546c-a9e9-2ca90e70c497","fields":{"path":"/docs/applications/migration/tcp-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"tcp-source Migration","description":"tcp-source Migration","path":"applications/migration/tcp-source","meta_title":null,"meta_description":null,"keywords":["application","migration","tcp-source"]}}},{"node":{"id":"c6799b15-9c3b-53e2-8d8a-90bb062eaef5","fields":{"path":"/docs/applications/migration/throughput-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"throughput-sink Migration","description":"throughput-sink Migration","path":"applications/migration/throughput-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","throughput-sink"]}}},{"node":{"id":"fabae50b-37ad-5f7c-a474-f0be4cdfcdde","fields":{"path":"/docs/applications/migration/time-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"time-source Migration","description":"time-source Migration","path":"applications/migration/time-source","meta_title":null,"meta_description":null,"keywords":["application","migration","time-source"]}}},{"node":{"id":"233d5b84-ddd6-5dc3-bb5c-fe739c738d4b","fields":{"path":"/docs/applications/migration/file-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"file-sink Migration","description":"file-sink Migration","path":"applications/migration/file-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","file-sink"]}}},{"node":{"id":"e706f16b-b856-5ec5-bdb1-cd696b1c0b47","fields":{"path":"/docs/applications/migration/websocket-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"websocket-sink Migration","description":"websocket-sink Migration","path":"applications/migration/websocket-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","websocket-sink"]}}},{"node":{"id":"aa9d521d-7c66-597a-8cc0-a4bd1d858b2f","fields":{"path":"/docs/applications/migration/file-source/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"file-source Migration","description":"file-source Migration","path":"applications/migration/file-source","meta_title":null,"meta_description":null,"keywords":["application","migration","file-source"]}}},{"node":{"id":"0d9af058-c1ef-54ca-8b5b-1f7e148ab731","fields":{"path":"/docs/applications/migration/filter-processor/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"filter-processor Migration","description":"filter-processor Migration","path":"applications/migration/filter-processor","meta_title":null,"meta_description":null,"keywords":["application","migration","filter-processor"]}}},{"node":{"id":"fd9585d4-2e48-50d2-be76-e992ce3d6410","fields":{"path":"/docs/applications/migration/ftp-sink/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"ftp-sink Migration","description":"ftp-sink Migration","path":"applications/migration/ftp-sink","meta_title":null,"meta_description":null,"keywords":["application","migration","ftp-sink"]}}},{"node":{"id":"352291ab-a252-5fe7-acbc-99d65eaca5d7","fields":{"path":"/docs/applications/pre-packaged/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"Pre-packaged Applications","description":"Pre-packaged stream applications version 3.x","path":"applications/pre-packaged","meta_title":null,"meta_description":null,"keywords":["application","pre-packaged"]}}},{"node":{"id":"3c16c913-ac9a-510e-8a54-26fef7dcd6e7","fields":{"path":"/docs/applications/pre-packaged2x/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"Pre-packaged Applications 2.x","description":"Pre-packaged stream and task applications (Einstein release)","path":"applications/pre-packaged2x","meta_title":null,"meta_description":null,"keywords":["application","pre-packaged"]}}},{"node":{"id":"b0e7b09a-b164-56e9-954a-670f41007c81","fields":{"path":"/docs/applications/migration/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"Migration Guide for Pre-packaged Stream Applications","description":"Guide for migrating fom 2.x to 3.x Stream Applications","path":"applications/migration","meta_title":null,"meta_description":null,"keywords":["application","migration","pre-packaged"]}}},{"node":{"id":"1b4bf386-6c34-568e-acb5-42d48ec6e932","fields":{"path":"/docs/applications/application-metadata/","version":"2.8.x","category":"applications"},"frontmatter":{"title":"Application Metadata","description":"Create and use application properties metadata","path":"applications/application-metadata/","meta_title":null,"meta_description":null,"keywords":null}}}]},"page":{"html":"<h1 id=\"batch-processing-with-spring-batch\" style=\"position:relative;\"><a href=\"#batch-processing-with-spring-batch\" aria-label=\"batch processing with spring batch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Batch Processing with Spring Batch</h1>\n<p>In this guide, we develop a Spring Batch application and deploy it to Cloud Foundry, Kubernetes, and your local machine. In another guide, we deploy the <a href=\"/docs/batch-developer-guides/batch/data-flow-spring-batch/\">Spring Batch application by using Data Flow</a>.</p>\n<p>This guide describes how to build this application from scratch. If you prefer, you can download a zip file that contains the sources for the <code class=\"language-text\">billsetup</code> application, unzip it, and proceed to the <a href=\"#deployment\">deployment</a> step.</p>\n<p>You can <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/blob/master/dataflow-website/batch-developer-guides/batch/batchsamples/dist/batchsamples.zip?raw=true\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">download the project</a> from your browser or run the following command to download it from the command-line:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://github.com/spring-cloud/spring-cloud-dataflow-samples/blob/master/dataflow-website/batch-developer-guides/batch/batchsamples/dist/batchsamples.zip?raw<span class=\"token operator\">=</span>true -O batchsamples.zip</code></pre></div>\n      </div>\n<h2 id=\"development\" style=\"position:relative;\"><a href=\"#development\" aria-label=\"development permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Development</h2>\n<p>We start from <a href=\"https://start.spring.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Initializr</a> and create a Spring Batch application.</p>\n<p>Suppose a cell phone data provider needs to create billing statements for customers. The usage data is stored in JSON files that are stored on the file system. The billing solution must pull data from these files, generate the billing data from this usage data, and store it in a <code class=\"language-text\">BILL_STATEMENTS</code> table.</p>\n<p>We could implement this entire solution in a single Spring Boot Application that uses Spring Batch. However, for this example, we break up the solution into two phases:</p>\n<ol>\n<li><a href=\"/docs/batch-developer-guides/batch/data-flow-simple-task/\"><code class=\"language-text\">billsetuptask</code></a>: The <a href=\"/docs/batch-developer-guides/batch/data-flow-simple-task/\"><code class=\"language-text\">billsetuptask</code></a> application is a Spring Boot application that uses Spring Cloud Task to create the <code class=\"language-text\">BILL_STATEMENTS</code> table.</li>\n<li><code class=\"language-text\">billrun</code>: The <code class=\"language-text\">billrun</code> application is a Spring Boot application that uses Spring Cloud Task and Spring Batch to read usage data and price for each row from a JSON file and put the resulting data into the <code class=\"language-text\">BILL_STATEMENTS</code> table.</li>\n</ol>\n<p>For this section, we create a Spring Cloud Task and Spring Batch <code class=\"language-text\">billrun</code> application that reads usage information from a JSON file that contains customer usage data and price for each entry and places the result into the <code class=\"language-text\">BILL_STATEMENTS</code> table.</p>\n<p>The following image shows the <code class=\"language-text\">BILL_STATEMENTS</code> table:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 184px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.93478260869566%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsSAAALEgHS3X78AAADGElEQVQ4y4VT22vTYBTvX6fggz6pIIyBL4IwRAeCjj2JMnwZPgtat7WuaJ3M2mu2br03bdKk6XW9N72ktzRNml7SJvWk2eYmoocv4fed75zv/M7l0y1UURRlvljIGl4osro0/Hc51+vgw/PNfaRq9hWNbvyzmzhA898jxT0kajjC9xBMBcf4rhMFvONAlwa5r/5UozvQKfL8IFI2Hje39tE7jzduP3qxtm3c0DvvPXu9uvnu7tNX99ff3Fx9cmNl7dbD9QfP36683N764t38YI0WO+Asu4jSR3vUeJo0BbK77vh7a1iPEDtuyujNGDzpnWNKj8T0R+SnI9Loy4J+P3C2680kSoxuJkltlqW7PRzHI9Go04UwrTbkIs3ms9lMgm8+n8vybK4uSVK3oJtOJY7jdJIk9Qc8ywu1Wq1er1dpGs4W/xNZlgeDgerMDfjhdFooFOqNxmQ6qVSquXyertXK5TJJkmgkks1mk8lkFMMIgqQoaiiK0B41MtDuclydZYF2OByuVqs+n8/v96dSqVwuh6kORCKRgFMAwWAwFAqxLAvBz2nzgiArinRF1GxBz/O9Xo9hGABg2m63O50OsFWWotIGq06/X2y1HHa71WoFhoeHhy6XC2ICEYvFAkqPx2Oz2RAEMZlMoIG7fkcWBOGyDFBaDYzH49FodG2sFOXyf14wLXKp3T49OYG7nU6n2WyOxWIGgyGfz2t2mo/m9me11ZxlWVkaQbTJZHIZAQTyv+p2zVmrdpPj/D4fpAfdzmQybrcb0ob8IUNgoVkrF3K9zzw/HI9bDAM8u90uVLhUKkF74BiwKIr/HBKeH4zHYE3TdLPZTKfTEB/8oc9QcBiPCIp6vF4ApWIR+g9zAp7icKjSZrpsudUOBEJUIhkjyUAw5A+EgmE0mcqgESyRTKFRzH3qiWA4lUwRcSoURludHswlvGcFzVS+hQoOqv4DK1liFXu8biNrtnjtZ6xiI2oWvAJbR6JhJWnAVoK2kbQ5eFZudnTLBzTrCyLLDzlh1BdG7GDY59UtKAEsj0RQXhioW14cQ+V+AemB5uIm/GxSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/421beb33fdc785ce3e57e89cb98b035e/47dae/bill_statements.webp 184w\"\n          sizes=\"(max-width: 184px) 100vw, 184px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/421beb33fdc785ce3e57e89cb98b035e/1f9a3/bill_statements.png 184w\"\n          sizes=\"(max-width: 184px) 100vw, 184px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/421beb33fdc785ce3e57e89cb98b035e/1f9a3/bill_statements.png\"\n          alt=\"BILL_STATMENTS\"\n          title=\"BILL_STATMENTS\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n    </span></p>\n<h3 id=\"introducing-spring-batch\" style=\"position:relative;\"><a href=\"#introducing-spring-batch\" aria-label=\"introducing spring batch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introducing Spring Batch</h3>\n<p>Spring Batch is a lightweight, comprehensive batch framework designed to enable the development of robust batch applications. Spring Batch provides reusable functions that are essential in processing large volumes of records by offering features such as:</p>\n<ul>\n<li>Logging/tracing</li>\n<li>Chunk based processing</li>\n<li>Declarative I/O</li>\n<li>Start/Stop/Restart</li>\n<li>Retry/Skip</li>\n<li>Resource management</li>\n</ul>\n<p>It also provides more advanced technical services and features that enable extremely high-volume and high-performance batch jobs through optimization and partitioning techniques.</p>\n<p>For this guide, we focus on five Spring Batch components, which the following image shows:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz51S2Y6DMBDr//9gpe1BORogBBKOngG8nrCV2FUfqh3JmsjJOJ5JNvM84z94F8Jv3pGfcA//hG0NWmfgXIXhNgR+I4fHFSQk+3mCnybQT+Bk/eIlbN8iSr8QRVtEpy00RYOgu16gjIa2DYqmhr0MqDqHytkATZiuXdY8o1vmms7IaXOGa3I0teIFdhEUgThXOCYxkkKFYsPblS5RsDCIEyIWpQlKubjSaPsOcXZAfj4iTXcwbD0Idrcr6qGHYrGIOXFIFzHFU4rWFLeXnrljJxVK7t05PxEsyhPybI9SHemwWQQNN7JVyyUhjg90s09OyMpicUVe2k7pbnjc4UePhnNzVgf0134RnDjk5zj+ggz+9Uh+Wu/5kKefx5tWWJg33+bTCF/pDyR9AxuXuVGD6nhoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/4872852410143586613cea2256755363/507e6/spring-batch-reference-model.webp 200w,\n/static/4872852410143586613cea2256755363/28a80/spring-batch-reference-model.webp 400w,\n/static/4872852410143586613cea2256755363/8d2ea/spring-batch-reference-model.webp 800w,\n/static/4872852410143586613cea2256755363/de2f6/spring-batch-reference-model.webp 844w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/4872852410143586613cea2256755363/36ca5/spring-batch-reference-model.png 200w,\n/static/4872852410143586613cea2256755363/a3397/spring-batch-reference-model.png 400w,\n/static/4872852410143586613cea2256755363/a331c/spring-batch-reference-model.png 800w,\n/static/4872852410143586613cea2256755363/b07dd/spring-batch-reference-model.png 844w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/4872852410143586613cea2256755363/a331c/spring-batch-reference-model.png\"\n          alt=\"BILL_STATMENTS\"\n          title=\"BILL_STATMENTS\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n    </span></p>\n<ul>\n<li><code class=\"language-text\">Job</code>: A <code class=\"language-text\">Job</code> is an entity that encapsulates an entire batch process. A job is comprised of one or more <code class=\"language-text\">steps</code>.</li>\n<li><code class=\"language-text\">Step</code>: A <code class=\"language-text\">Step</code> is a domain object that encapsulates an independent, sequential phase of a batch job. Each <code class=\"language-text\">step</code> is comprised of an <code class=\"language-text\">ItemReader</code>, an <code class=\"language-text\">ItemProcessor</code>, and an <code class=\"language-text\">ItemWriter</code>.</li>\n<li><code class=\"language-text\">ItemReader</code>: <code class=\"language-text\">ItemReader</code> is an abstraction that represents the retrieval of input for a <code class=\"language-text\">Step</code>, one item at a time.</li>\n<li><code class=\"language-text\">ItemProcessor</code>: <code class=\"language-text\">ItemProcessor</code> is an abstraction that represents the business processing of an item.</li>\n<li><code class=\"language-text\">ItemWriter</code>: <code class=\"language-text\">ItemWriter</code> is an abstraction that represents the output of a <code class=\"language-text\">Step</code>.</li>\n</ul>\n<p>In the preceding diagram, we see that each phase of the <code class=\"language-text\">JobExecution</code> is stored in a <code class=\"language-text\">JobRepository</code> (in this case, our MySQL database). This means that each action performed by Spring Batch is recorded in a database for both logging purposes and for restarting a job.</p>\n<div class=\"admonition note\"><p><strong>NOTE:</strong> You can read more about this process <a href=\"https://docs.spring.io/spring-batch/4.0.x/reference/html/domain.html#domainLanguageOfBatch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p></div>\n<h3 id=\"our-batch-job\" style=\"position:relative;\"><a href=\"#our-batch-job\" aria-label=\"our batch job permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Our Batch Job</h3>\n<p>So, for our application, we have a <code class=\"language-text\">BillRun</code> <code class=\"language-text\">Job</code> that has one <code class=\"language-text\">Step</code>, which consists of:</p>\n<ul>\n<li><code class=\"language-text\">JsonItemReader</code>: An <code class=\"language-text\">ItemReader</code> that reads a JSON file containing the usage data.</li>\n<li><code class=\"language-text\">BillProcessor</code>: An <code class=\"language-text\">ItemProcessor</code> that generates a price based on each row of data sent from the <code class=\"language-text\">JsonItemReader</code>.</li>\n<li><code class=\"language-text\">JdbcBatchItemWriter</code>: An <code class=\"language-text\">ItemWriter</code> that writes the priced <code class=\"language-text\">Bill</code> record to the <code class=\"language-text\">BILLING_STATEMENT</code> table.</li>\n</ul>\n<h3 id=\"initializr\" style=\"position:relative;\"><a href=\"#initializr\" aria-label=\"initializr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Initializr</h3>\n<p>We use <a href=\"https://start.spring.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Initializr</a> to create our application. To do so:</p>\n<ol>\n<li>Visit the <a href=\"https://start.spring.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Initializr site</a>.</li>\n<li>Select the latest release of Spring Boot.</li>\n<li>Create a new Maven project with a Group name of <code class=\"language-text\">io.spring</code> and an Artifact name of <code class=\"language-text\">billrun</code>.</li>\n<li>In the <strong>Dependencies</strong> text box, type <code class=\"language-text\">task</code> to select the Cloud Task dependency.</li>\n<li>In the <strong>Dependencies</strong> text box, type <code class=\"language-text\">jdbc</code> and then select the JDBC dependency.</li>\n<li>In the <strong>Dependencies</strong> text box, type <code class=\"language-text\">h2</code> and then select the H2 dependency.\nWe use H2 for unit testing.</li>\n<li>In the <strong>Dependencies</strong> text box, type <code class=\"language-text\">mysql</code> and then select the MySQL dependency (or your favorite database).\nWe use MySQL for the runtime database.</li>\n<li>In the <strong>Dependencies</strong> text box, type <code class=\"language-text\">batch</code> and then select Batch.</li>\n<li>Click the <strong>Generate Project</strong> button.</li>\n<li>Unzip the <code class=\"language-text\">billrun.zip</code> file and import the project into your favorite IDE.</li>\n</ol>\n<p>Alternatively, you can initialize your project by downloading a pre-built file. To do so:</p>\n<ol>\n<li>Click <a href=\"https://start.spring.io/starter.zip?type=maven-project&#x26;language=java&#x26;baseDir=billrun&#x26;groupId=io.spring&#x26;artifactId=billrun&#x26;name=Bill+Run&#x26;description=Bill+Run+Sample+App&#x26;packageName=io.spring.billrun&#x26;packaging=jar&#x26;dependencies=batch&#x26;dependencies=cloud-task&#x26;dependencies=jdbc&#x26;dependencies=h2&#x26;dependencies=mysql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this Spring Initializr link</a> to download the preconfigured <code class=\"language-text\">billrun.zip</code> file.</li>\n<li>Unzip the billrun.zip file and import the project into your favorite IDE.</li>\n</ol>\n<h3 id=\"setting-up-mysql\" style=\"position:relative;\"><a href=\"#setting-up-mysql\" aria-label=\"setting up mysql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up MySQL</h3>\n<p>If you do not have an instance of MySQL available to you, you can follow these instructions to run a MySQL Docker image for this example:</p>\n<ol>\n<li>\n<p>Pull a MySQL Docker image by running the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker pull mysql:5.7.25</code></pre></div>\n      </div>\n</li>\n<li>\n<p>Start MySQL by running the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker run -p <span class=\"token number\">3306</span>:3306 --name mysql -e <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span>password <span class=\"token punctuation\">\\</span>\n-e <span class=\"token assign-left variable\">MYSQL_DATABASE</span><span class=\"token operator\">=</span>task -d mysql:5.7.25</code></pre></div>\n      </div>\n</li>\n</ol>\n<h3 id=\"building-the-application\" style=\"position:relative;\"><a href=\"#building-the-application\" aria-label=\"building the application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building The Application</h3>\n<ol>\n<li>Download <code class=\"language-text\">https://raw.githubusercontent.com/spring-cloud/spring-cloud-dataflow-samples/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/main/resources/usageinfo.json title=usageinfo.json</code> and copy the resulting file to the <code class=\"language-text\">/src/main/resources</code> directory.</li>\n<li>Download <code class=\"language-text\">https://raw.githubusercontent.com/spring-cloud/spring-cloud-dataflow-samples/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/main/resources/schema.sql title=schema.sql</code> and copy the resulting file to the <code class=\"language-text\">/src/main/resources</code> directory.</li>\n<li>In your favorite IDE, create the <code class=\"language-text\">io.spring.billrun.model</code> package.</li>\n<li>Create a <code class=\"language-text\">Usage</code> class in the <code class=\"language-text\">io.spring.billrun.model</code> that looks like the contents of <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/main/java/io/spring/billrun/model/Usage.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Usage.java</a>.</li>\n<li>Create a <code class=\"language-text\">Bill</code> class in the <code class=\"language-text\">io.spring.billrun.model</code> that looks like the contents of <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/main/java/io/spring/billrun/model/Bill.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bill.java</a>.</li>\n<li>In your favorite IDE, create the <code class=\"language-text\">io.spring.billrun.configuration</code> package.</li>\n<li>\n<p>Create an <code class=\"language-text\">ItemProcessor</code> for pricing each <code class=\"language-text\">Usage</code> record. To do so, create a <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/main/java/io/spring/billrun/configuration/BillProcessor.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">BillProcessor</code></a> class in the <code class=\"language-text\">io.spring.billrun.configuration</code> that looks like the following listing:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BillProcessor</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ItemProcessor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Bill</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Usage</span> usage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token class-name\">Double</span> billAmount <span class=\"token operator\">=</span> usage<span class=\"token punctuation\">.</span><span class=\"token function\">getDataUsage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">.001</span> <span class=\"token operator\">+</span> usage<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">.01</span><span class=\"token punctuation\">;</span>\n     <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bill</span><span class=\"token punctuation\">(</span>usage<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> usage<span class=\"token punctuation\">.</span><span class=\"token function\">getFirstName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> usage<span class=\"token punctuation\">.</span><span class=\"token function\">getLastName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n           usage<span class=\"token punctuation\">.</span><span class=\"token function\">getDataUsage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> usage<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> billAmount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n      </div>\n<p>Notice that we implement the <code class=\"language-text\">ItemProcessor</code> interface that has the <code class=\"language-text\">process</code> method that we need to override.\nOur parameter is a <code class=\"language-text\">Usage</code> object, and the return value is of type <code class=\"language-text\">Bill</code>.</p>\n</li>\n<li>\n<p>Now we can create a Java configuration that specifies the beans required for the <code class=\"language-text\">BillRun</code> <code class=\"language-text\">Job</code>. In this case, we need to create a <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/tree/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/main/java/io/spring/billrun/configuration/BillingConfiguration.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">BillingConfiguration</code></a> class in the <code class=\"language-text\">io.spring.billrun.configuration</code> package that looks like the following listing:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token annotation punctuation\">@EnableTask</span>\n<span class=\"token annotation punctuation\">@EnableBatchProcessing</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BillingConfiguration</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@Autowired</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">JobBuilderFactory</span> jobBuilderFactory<span class=\"token punctuation\">;</span>\n\n  <span class=\"token annotation punctuation\">@Autowired</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">StepBuilderFactory</span> stepBuilderFactory<span class=\"token punctuation\">;</span>\n\n  <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${usage.file.name:classpath:usageinfo.json}\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Resource</span> usageResource<span class=\"token punctuation\">;</span>\n\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Job</span> <span class=\"token function\">job1</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">></span></span> reader<span class=\"token punctuation\">,</span>\n    <span class=\"token class-name\">ItemProcessor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> itemProcessor<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ItemWriter</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> writer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">Step</span> step <span class=\"token operator\">=</span> stepBuilderFactory<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BillProcessing\"</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span><span class=\"token function\">chunk</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">reader</span><span class=\"token punctuation\">(</span>reader<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">processor</span><span class=\"token punctuation\">(</span>itemProcessor<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">writer</span><span class=\"token punctuation\">(</span>writer<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> jobBuilderFactory<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BillJob\"</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">incrementer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RunIdIncrementer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>step<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">JsonItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">jsonItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n      <span class=\"token class-name\">ObjectMapper</span> objectMapper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token class-name\">JacksonJsonObjectReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">></span></span> jsonObjectReader <span class=\"token operator\">=</span>\n              <span class=\"token keyword\">new</span> <span class=\"token class-name\">JacksonJsonObjectReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      jsonObjectReader<span class=\"token punctuation\">.</span><span class=\"token function\">setMapper</span><span class=\"token punctuation\">(</span>objectMapper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JsonItemReaderBuilder</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">jsonObjectReader</span><span class=\"token punctuation\">(</span>jsonObjectReader<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span>usageResource<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UsageJsonItemReader\"</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">ItemWriter</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">jdbcBillWriter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataSource</span> dataSource<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">JdbcBatchItemWriter</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> writer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JdbcBatchItemWriterBuilder</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                      <span class=\"token punctuation\">.</span><span class=\"token function\">beanMapped</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">dataSource</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">sql</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"INSERT INTO BILL_STATEMENTS (id, first_name, \"</span> <span class=\"token operator\">+</span>\n                 <span class=\"token string\">\"last_name, minutes, data_usage,bill_amount) VALUES \"</span> <span class=\"token operator\">+</span>\n                 <span class=\"token string\">\"(:id, :firstName, :lastName, :minutes, :dataUsage, \"</span> <span class=\"token operator\">+</span>\n                 <span class=\"token string\">\":billAmount)\"</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> writer<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token class-name\">ItemProcessor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Usage</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">billProcessor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BillProcessor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n      </div>\n<p>The <code class=\"language-text\">@EnableBatchProcessing</code> annotation enables Spring Batch features and provides a base configuration for setting up batch jobs.\nThe <code class=\"language-text\">@EnableTask</code> annotation sets up a <code class=\"language-text\">TaskRepository</code>, which stores information about the task execution (such as the start and end times of the task and the exit code).\nIn the preceding configuration, we see that our <code class=\"language-text\">ItemReader</code> bean is an instance of <code class=\"language-text\">JsonItemReader</code>. The <code class=\"language-text\">JsonItemReader</code> instance reads the contents of a resource and unmarshalls the JSON data into <code class=\"language-text\">Usage</code> objects. <code class=\"language-text\">JsonItemReader</code> is one of the <code class=\"language-text\">ItemReader</code> implementations provided by Spring Batch.\nWe also see that our <code class=\"language-text\">ItemWriter</code> bean is an instance of <code class=\"language-text\">JdbcBatchItemWriter</code>. The <code class=\"language-text\">JdbcBatchItemWriter</code> instance writes the results to our database. <code class=\"language-text\">JdbcBatchItemWriter</code> is one of the <code class=\"language-text\">ItemWriter</code> implementations provided by Spring Batch.\nThe <code class=\"language-text\">ItemProcessor</code> is our very own <code class=\"language-text\">BillProcessor</code>. Notice that all the beans that use Spring Batch-provided classes (<code class=\"language-text\">Job</code>, <code class=\"language-text\">Step</code>, <code class=\"language-text\">ItemReader</code>, <code class=\"language-text\">ItemWriter</code>) are being built with builders provided by Spring Batch, which means less coding.</p>\n</li>\n</ol>\n<h3 id=\"testing\" style=\"position:relative;\"><a href=\"#testing\" aria-label=\"testing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Testing</h3>\n<p>Now that we have written our code, it is time to write our test. In this case, we want to make sure that the bill information has been properly inserted into the <code class=\"language-text\">BILLING_STATEMENTS</code> table.\nTo create your test, update <a href=\"https://github.com/spring-cloud/spring-cloud-dataflow-samples/blob/master/dataflow-website/batch-developer-guides/batch/batchsamples/billrun/src/test/java/io/spring/billrun/BillRunApplicationTests.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">BillrunApplicationTests.java</a> such that it looks like the following listing:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">io<span class=\"token punctuation\">.</span>spring<span class=\"token punctuation\">.</span>billrun</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">io<span class=\"token punctuation\">.</span>spring<span class=\"token punctuation\">.</span>billrun<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">BeforeEach</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SpringBootTest</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>jdbc<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">JdbcTemplate</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DataSource</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">static</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>assertj<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Assertions</span><span class=\"token punctuation\">.</span>assertThat<span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@SpringBootTest</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BillRunApplicationTests</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token annotation punctuation\">@Autowired</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">DataSource</span> dataSource<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">JdbcTemplate</span> jdbcTemplate<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@BeforeEach</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jdbcTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JdbcTemplate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token annotation punctuation\">@Test</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testJobResults</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bill</span><span class=\"token punctuation\">></span></span> billStatements <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>jdbcTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select id, \"</span> <span class=\"token operator\">+</span>\n\t\t\t\t\t\t<span class=\"token string\">\"first_name, last_name, minutes, data_usage, bill_amount \"</span> <span class=\"token operator\">+</span>\n\t\t\t\t\t\t<span class=\"token string\">\"FROM bill_statements ORDER BY id\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">,</span> rowNum<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bill</span><span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\trs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"FIRST_NAME\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LAST_NAME\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\trs<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DATA_USAGE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MINUTES\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\trs<span class=\"token punctuation\">.</span><span class=\"token function\">getDouble</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bill_amount\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatements<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">Bill</span> billStatement <span class=\"token operator\">=</span> billStatements<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatement<span class=\"token punctuation\">.</span><span class=\"token function\">getBillAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">6.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatement<span class=\"token punctuation\">.</span><span class=\"token function\">getFirstName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jane\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatement<span class=\"token punctuation\">.</span><span class=\"token function\">getLastName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"doe\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatement<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatement<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>billStatement<span class=\"token punctuation\">.</span><span class=\"token function\">getDataUsage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n      </div>\n<p>For this test, we use <code class=\"language-text\">JdbcTemplate</code> to execute a query and retrieve the results of the <code class=\"language-text\">billrun</code>. Once the query has run, we verify that the data in the first row of the table is what we expect.</p>\n<h2 id=\"deployment\" style=\"position:relative;\"><a href=\"#deployment\" aria-label=\"deployment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deployment</h2>\n<p>In this section, we deploy to a local machine, Cloud Foundry, and Kubernetes.</p>\n<h3 id=\"local\" style=\"position:relative;\"><a href=\"#local\" aria-label=\"local permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local</h3>\n<p>Now we can build the project.</p>\n<ol>\n<li>From a command line, change directory to the location of your project and build the project by running the following Maven command: <code class=\"language-text\">./mvnw clean package</code>.</li>\n<li>\n<p>Run the application with the configurations required to process the usage information in the database.</p>\n<p>To configure the <code class=\"language-text\">billrun</code> application, use the following arguments:</p>\n<ul>\n<li><code class=\"language-text\">spring.datasource.url</code>: Set the URL to your database instance. In the following sample, we connect to a MySQL <code class=\"language-text\">task</code> database on our local machine at port 3306.</li>\n<li><code class=\"language-text\">spring.datasource.username</code>: The user name to be used for the MySQL database. In the following sample, it is <code class=\"language-text\">root</code>.</li>\n<li><code class=\"language-text\">spring.datasource.password</code>: The password to be used for the MySQL database. In the following sample, it is <code class=\"language-text\">password</code>.</li>\n<li><code class=\"language-text\">spring.datasource.driverClassName</code>: The driver to use to connect to the MySQL database. In the following sample, it is <code class=\"language-text\">com.mysql.jdbc.Driver</code>.</li>\n<li><code class=\"language-text\">spring.datasource.initialization-mode</code>: Initializes the database with the <code class=\"language-text\">BILL_STATEMENTS</code> and <code class=\"language-text\">BILL_USAGE</code> tables required for this application. In the following sample, we state that we <code class=\"language-text\">always</code> want to do this. Doing so does not overwrite the tables if they already exist.</li>\n<li><code class=\"language-text\">spring.batch.initialize-schema</code>: Initializes the database with the tables required for Spring Batch. In the following sample, we state that we <code class=\"language-text\">always</code> want to do this. Doing so does not overwrite the tables if they already exist.</li>\n</ul>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">java -jar target/billrun-0.0.1-SNAPSHOT.jar <span class=\"token punctuation\">\\</span>\n--spring.datasource.url<span class=\"token operator\">=</span>jdbc:mysql://localhost:3306/task?useSSL<span class=\"token operator\">=</span>false <span class=\"token punctuation\">\\</span>\n--spring.datasource.username<span class=\"token operator\">=</span>root <span class=\"token punctuation\">\\</span>\n--spring.datasource.password<span class=\"token operator\">=</span>password <span class=\"token punctuation\">\\</span>\n--spring.datasource.driverClassName<span class=\"token operator\">=</span>com.mysql.jdbc.Driver <span class=\"token punctuation\">\\</span>\n--spring.datasource.initialization-mode<span class=\"token operator\">=</span>always <span class=\"token punctuation\">\\</span>\n--spring.batch.initialize-schema<span class=\"token operator\">=</span>always</code></pre></div>\n      </div>\n</li>\n<li>Log in to the <code class=\"language-text\">mysql</code> container to query the <code class=\"language-text\">BILL_STATEMENTS</code> table. To do so, run the following commands:</li>\n</ol>\n<!-- Rolling my own to disable erroneous formating -->\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\">\n<pre class=\"language-bash\"><code>$ docker exec -it mysql bash -l\n# mysql -u root -ppassword\nmysql&gt; select * from task.BILL_STATEMENTS;\n</code></pre></div>\n      </div>\n<p>The output should look something like the following:</p>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>first_name</th>\n<th>last_name</th>\n<th>minutes</th>\n<th>data_usage</th>\n<th>bill_amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jane</td>\n<td>doe</td>\n<td>500</td>\n<td>1000</td>\n<td>6.00</td>\n</tr>\n<tr>\n<td>2</td>\n<td>john</td>\n<td>doe</td>\n<td>550</td>\n<td>1500</td>\n<td>7.00</td>\n</tr>\n<tr>\n<td>3</td>\n<td>melissa</td>\n<td>smith</td>\n<td>600</td>\n<td>1550</td>\n<td>7.55</td>\n</tr>\n<tr>\n<td>4</td>\n<td>michael</td>\n<td>smith</td>\n<td>650</td>\n<td>1500</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>5</td>\n<td>mary</td>\n<td>jones</td>\n<td>700</td>\n<td>1500</td>\n<td>8.50</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"cleanup\" style=\"position:relative;\"><a href=\"#cleanup\" aria-label=\"cleanup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cleanup</h4>\n<p>To stop and remove the MySQL container running in the Docker instance, run the following commands:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker stop mysql\ndocker <span class=\"token function\">rm</span> mysql</code></pre></div>\n      </div>\n<h3 id=\"cloud-foundry\" style=\"position:relative;\"><a href=\"#cloud-foundry\" aria-label=\"cloud foundry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud Foundry</h3>\n<p>This guide walks through how to deploy and run simple <a href=\"https://spring.io/projects/spring-batch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Batch</a> standalone applications on Cloud Foundry.</p>\n<h4 id=\"requirements\" style=\"position:relative;\"><a href=\"#requirements\" aria-label=\"requirements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Requirements</h4>\n<p>On your local machine, you need to have installed:</p>\n<ul>\n<li>Java</li>\n<li><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Git</a></li>\n<li>The <a href=\"https://console.run.pivotal.io/tools\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cloud Foundry command line interface</a> (see the <a href=\"https://docs.pivotal.io/application-service/2-11/cf-cli/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">documentation</a>).</li>\n</ul>\n<h4 id=\"building-the-application-1\" style=\"position:relative;\"><a href=\"#building-the-application-1\" aria-label=\"building the application 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building the Application</h4>\n<p>Now you can build the project.\nFrom a command line, change directory to the location of your project and build the project by using the following Maven command: <code class=\"language-text\">./mvnw clean package</code>.</p>\n<h4 id=\"setting-up-cloud-foundry\" style=\"position:relative;\"><a href=\"#setting-up-cloud-foundry\" aria-label=\"setting up cloud foundry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up Cloud Foundry</h4>\n<p>First, you need a Cloud Foundry account. You can create a free account by using <a href=\"https://run.pivotal.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pivotal Web Services</a> (PWS). We use PWS for this example. If you use a different provider, your experience may differ slightly from this document.</p>\n<p>To get started, log into Cloud Foundry by using the <a href=\"https://console.run.pivotal.io/tools\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cloud Foundry command line interface</a>:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf login</code></pre></div>\n      </div>\n<div class=\"admonition tip\"><p>You can also target specific Cloud Foundry instances with the <code class=\"language-text\">-a</code> flag -- for example <code class=\"language-text\">cf login -a https://api.run.pivotal.io</code>.</p></div>\n<p>Before you can push the application, you must set up the <strong>MySQL Service</strong> on Cloud Foundry. You can check what services are available by running the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf marketplace</code></pre></div>\n      </div>\n<p>On <a href=\"https://run.pivotal.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pivotal Web Services</a> (PWS), you should be able to use the following command to install the MySQL service:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf create-service cleardb spark task-example-mysql</code></pre></div>\n      </div>\n<p>Make sure you name your MySQL service is <code class=\"language-text\">task-example-mysql</code>. We use that value throughout this document.</p>\n<h4 id=\"task-concepts-in-cloud-foundry\" style=\"position:relative;\"><a href=\"#task-concepts-in-cloud-foundry\" aria-label=\"task concepts in cloud foundry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Task Concepts in Cloud Foundry</h4>\n<p>To provide configuration parameters for Cloud Foundry, we create dedicated <code class=\"language-text\">manifest</code> YAML files for each application. For additional information on setting up a manifest, see <a href=\"https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">the Cloud Foundry documentation</a></p>\n<p>Running tasks on Cloud Foundry is a two-stage process. Before you can actually run any tasks, you need to first push an app that is staged without any running instances. We provide the following common properties to the manifest YAML file to each application:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 32M\n<span class=\"token key atrule\">health-check-type</span><span class=\"token punctuation\">:</span> process\n<span class=\"token key atrule\">no-route</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n<span class=\"token key atrule\">instances</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span></code></pre></div>\n      </div>\n<p>The key is to set the <code class=\"language-text\">instances</code> property to <code class=\"language-text\">0</code>. Doing so ensures that the app is staged without being run. We also do not need a route to be created and can set <code class=\"language-text\">no-route</code> to <code class=\"language-text\">true</code>.</p>\n<div class=\"admonition tip\"><p>Having this app staged but not running has a second advantage as well. Not only do we need this staged application to run a task in a subsequent step, but, if your database service is internal (part of your Cloud Foundry instance), we can use this application to establish an SSH tunnel to the associated MySQL database service to see the persisted data. We go into the details for that a little bit later in this document.</p></div>\n<h4 id=\"running-billrun-on-cloud-foundry\" style=\"position:relative;\"><a href=\"#running-billrun-on-cloud-foundry\" aria-label=\"running billrun on cloud foundry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running <code class=\"language-text\">billrun</code> on Cloud Foundry</h4>\n<p>Now we can deploy and run the second task application. To deploy, create a file called <code class=\"language-text\">manifest-billrun.yml</code> with the following content:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">applications</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> billrun\n    <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 32M\n    <span class=\"token key atrule\">health-check-type</span><span class=\"token punctuation\">:</span> process\n    <span class=\"token key atrule\">no-route</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">instances</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token key atrule\">disk_quota</span><span class=\"token punctuation\">:</span> 1G\n    <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">180</span>\n    <span class=\"token key atrule\">buildpacks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> java_buildpack\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> target/billrun<span class=\"token punctuation\">-</span>0.0.1<span class=\"token punctuation\">-</span>SNAPSHOT.jar\n    <span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> task<span class=\"token punctuation\">-</span>example<span class=\"token punctuation\">-</span>mysql</code></pre></div>\n      </div>\n<p>Now run <code class=\"language-text\">cf push -f ./manifest-billrun.yml</code>. Doing so stages the application. We are now ready to run the task by running the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf run-task billrun <span class=\"token string\">\".java-buildpack/open_jdk_jre/bin/java org.springframework.boot.loader.JarLauncher arg1\"</span> --name billrun-task</code></pre></div>\n      </div>\n<p>Doing so should produce output similar to the following:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Task has been submitted successfully <span class=\"token keyword\">for</span> execution.\ntask name:   billrun-task\ntask id:     <span class=\"token number\">1</span></code></pre></div>\n      </div>\n<p>If we verify the task on the Cloud Foundry dashboard, we should see that the task successfully ran. But how do we verify that the task application successfully populated the database table? We do that next.</p>\n<h4 id=\"validating-the-database-results\" style=\"position:relative;\"><a href=\"#validating-the-database-results\" aria-label=\"validating the database results permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Validating the Database Results</h4>\n<p>You have multiple options for how to access a database in Cloud Foundry, depending on your individual Cloud Foundry environment. We deal with the following two options:</p>\n<ul>\n<li>Using local tools (through SSH or an external database provider)</li>\n<li>Using a database GUI deployed to Cloud Foundry</li>\n</ul>\n<h5 id=\"using-local-tools-mysqlworkbench\" style=\"position:relative;\"><a href=\"#using-local-tools-mysqlworkbench\" aria-label=\"using local tools mysqlworkbench permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using Local Tools (MySQLWorkbench)</h5>\n<p>First, we need to create a <a href=\"https://cli.cloudfoundry.org/en-US/cf/create-service-key.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">key for a service instance</a> by using the <code class=\"language-text\">cf create-service-key</code> command, as follows:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf create-service-key task-example-mysql EXTERNAL-ACCESS-KEY\ncf service-key task-example-mysql EXTERNAL-ACCESS-KEY</code></pre></div>\n      </div>\n<p>Doing so should give you back the credentials necessary to access the database, such as those in the following example:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">Getting key EXTERNAL-ACCESS-KEY for service instance task-example-mysql as ghillert@gopivotal.com...\n\n<span class=\"token punctuation\">{</span>\n <span class=\"token property\">\"hostname\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"jdbcUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jdbc:mysql://...\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"port\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3306\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"uri\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mysql://...\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n      </div>\n<p>This should result in a response that details the access information for the respective database. The result differs, depending on whether the database service runs internally or the service is provided by a third-party. In the case of PWS and using ClearDB, we can directly connect to the database, as it is a third-party provider.</p>\n<p>If you deal with an internal service, you may have to create an SSH tunnel by using the <code class=\"language-text\">cf ssh</code> command, as follows:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf <span class=\"token function\">ssh</span> -L <span class=\"token number\">3306</span>:<span class=\"token operator\">&lt;</span>host_name<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span> task-example-mysql</code></pre></div>\n      </div>\n<p>By using the free <a href=\"https://www.mysql.com/products/workbench/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MySQLWorkbench</a>, you should see the following populated data:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABaklEQVQoz1WQiXKCMBRF+f//6ugMS2Vfw2bFIqCobAlaexMca9+E8Nb7DkhZnqfC8jzLsiRJeQgvz/Ptdvv135BZmjNRlRRV0TTVdtz9Lklj3SZVGASO4wRB0DTN6XRq23YU1vf94XCwbZsQ8qFZ+a6QsKUoCrT6vkeikJDIdd1ImOf7JIrQCq0kSeAsk2X5/bUr9vu9lKQJCGVZ5u2EqJoWhpAgsqJA0bKs9XoNx/O81WrlBwFUrl03TRNYJJDUTaOoal3XgNQNA7TH4/FzswExvk3XdQBXdW0YRns+4wzjSIVJXdezeQZqHMfz7YYlmKSMYRVjc1VVAPl5PDAfRhE65/lGKUMDjnS5XABgmiZ+5kQnwzTAAlUMI1+WJXTv9zugLNumwKXLJTYvAYQZY0her90oqLq+xz0MAxxGKZJLZnqNYhgcPGT0mWP8+avziKcm/ma8RF9FJoZREt8gavTdeYZvDldnT/8XeoAlm+/YcvoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/ee1861a93620eb3ba51c985901891507/507e6/CF-task-standalone-task2-database-result.webp 200w,\n/static/ee1861a93620eb3ba51c985901891507/28a80/CF-task-standalone-task2-database-result.webp 400w,\n/static/ee1861a93620eb3ba51c985901891507/8d2ea/CF-task-standalone-task2-database-result.webp 800w,\n/static/ee1861a93620eb3ba51c985901891507/3fa74/CF-task-standalone-task2-database-result.webp 886w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/ee1861a93620eb3ba51c985901891507/36ca5/CF-task-standalone-task2-database-result.png 200w,\n/static/ee1861a93620eb3ba51c985901891507/a3397/CF-task-standalone-task2-database-result.png 400w,\n/static/ee1861a93620eb3ba51c985901891507/a331c/CF-task-standalone-task2-database-result.png 800w,\n/static/ee1861a93620eb3ba51c985901891507/efcdf/CF-task-standalone-task2-database-result.png 886w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/ee1861a93620eb3ba51c985901891507/a331c/CF-task-standalone-task2-database-result.png\"\n          alt=\"billrun database results\"\n          title=\"billrun database results\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n    </span></p>\n<h5 id=\"using-a-database-gui-deployed-to-cloud-foundry\" style=\"position:relative;\"><a href=\"#using-a-database-gui-deployed-to-cloud-foundry\" aria-label=\"using a database gui deployed to cloud foundry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using a Database GUI Deployed to Cloud Foundry</h5>\n<p>Another interesting option for keeping an eye on your MySQL instance is to use <a href=\"https://github.com/pivotal-cf/PivotalMySQLWeb\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PivotalMySQLWeb</a>. In a nutshell, you can push PivotalMySQLWeb to your Cloud Foundry space and bind it to your MySQL instance to introspect your MySQL service without having to use local tooling.</p>\n<p>Check out the following project:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/pivotal-cf/PivotalMySQLWeb.git\n<span class=\"token builtin class-name\">cd</span> PivotalMySQLWeb</code></pre></div>\n      </div>\n<div class=\"admonition important\"><p><strong>IMPORTANT</strong>: You must first update your credentials in <code class=\"language-text\">src/main/resources/application-cloud.yml</code> (<a href=\"https://github.com/pivotal-cf/PivotalMySQLWeb/blob/master/src/main/resources/application-cloud.yml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">source on GitHub</a>). By default, the username is <code class=\"language-text\">admin</code>, and the password is <code class=\"language-text\">cfmysqlweb</code>.</p></div>\n<p>Then you can build the project, by running the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./mvnw -DskipTests<span class=\"token operator\">=</span>true package</code></pre></div>\n      </div>\n<p>Next, you need to update the <code class=\"language-text\">manifest.yml</code> file, as follows:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">applications</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pivotal<span class=\"token punctuation\">-</span>mysqlweb\n    <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 1024M\n    <span class=\"token key atrule\">instances</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">random-route</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> ./target/PivotalMySQLWeb<span class=\"token punctuation\">-</span>1.0.0<span class=\"token punctuation\">-</span>SNAPSHOT.jar\n    <span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> task<span class=\"token punctuation\">-</span>example<span class=\"token punctuation\">-</span>mysql\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">JAVA_OPTS</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span>Djava.security.egd=file<span class=\"token punctuation\">:</span>///dev/urandom</code></pre></div>\n      </div>\n<div class=\"admonition important\"><p><strong>IMPORTANT</strong> You must specify your MySQL service to be <code class=\"language-text\">task-example-mysql</code>. We use that value throughout this document.</p></div>\n<p>In this instance, we set the <code class=\"language-text\">random-route</code> property to <code class=\"language-text\">true</code>, to generate a random URL for the application. You can watch the console for the value of the URL. Then you push the application to Cloud Foundry by running the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf push</code></pre></div>\n      </div>\n<p>Now you can log in to the application and take a look at the table populated by the <code class=\"language-text\">billrun</code> task application. The following image shows its content after we have worked through the content of this example:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAACJUlEQVQoz4VR207bQBDdj0BKHlritXd93/U1Xsd2HCAOgkqkoSI3Ln1A4omHioBaLu0P8NU9SVTUvtDR2D4zO2fmzJoEn7/J+YP4+hhOH+LJvTq9Gyx+HMy/l+cvxeKpvvw5uPpVLp+ri2fgcvE0uHhBBq5mjyTNVJimcS9XZZmpXhjFjFu241mOi49pO9y0dcapzqjBqcF0g62xDsBJT6k8y6peUfRyeNbt+r7nem4QSADhe1IKxoy16ZQbuqHrm1CnmkZczizThHODORjFmfAF58zzPcdByKWUnJuuJzzXDITluiIMI/RFA5IksS+E7/uMMUqprutvb7pB9C/TNLjWarV2dnba7TY5OTm5v1/leQ4tnU4HZ52NaRvb3d19A9skxqxWq9fX19vbW5Km6Wg0Mk1TKeV5nmVZcRwnSWLbNuqyLIN44FypKIpwii2ur69vbm4wlQRBEIYhqvf29kBDmClVVpUMAvSo6zraJAGKotgWpyoTUchMc00GE6mmaUBGY0jogyxlHEX9fh8DAynLssRqa7KQVVf1gkjYLgEB2iAeADqhHKXoBYAQYJsEANN3XTtP+dWY3l3RUUWwLV8/fHsff25Vo/+atk11tI7vfDiq2oujj0VCsOqX09PJZDIej4Hrqqr7/fe8KOuu2k+yPEoIrvp8uZyenc1ns0/Hx8ODg2Y4fN+HTTM6PKyqiiAADaOn0+moadB7UNf/9f3BAD/vN+FErqu8S9e9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/89f92ca61e6d3f67ee1fa78b81564e34/507e6/CF-task-standalone-task2-database-result-PivotalMySQLWeb.webp 200w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/28a80/CF-task-standalone-task2-database-result-PivotalMySQLWeb.webp 400w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/8d2ea/CF-task-standalone-task2-database-result-PivotalMySQLWeb.webp 800w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/68fc1/CF-task-standalone-task2-database-result-PivotalMySQLWeb.webp 1200w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/43d96/CF-task-standalone-task2-database-result-PivotalMySQLWeb.webp 1600w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/f083f/CF-task-standalone-task2-database-result-PivotalMySQLWeb.webp 2434w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/89f92ca61e6d3f67ee1fa78b81564e34/36ca5/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png 200w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/a3397/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png 400w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/a331c/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png 800w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/8537d/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png 1200w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/1a152/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png 1600w,\n/static/89f92ca61e6d3f67ee1fa78b81564e34/b3e7b/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png 2434w\"\n          sizes=\"(max-width: 800px) 100vw, 800px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/89f92ca61e6d3f67ee1fa78b81564e34/a331c/CF-task-standalone-task2-database-result-PivotalMySQLWeb.png\"\n          alt=\"billrun database results\"\n          title=\"billrun database results\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n    </span></p>\n<h4 id=\"tearing-down-all-task-applications-and-services\" style=\"position:relative;\"><a href=\"#tearing-down-all-task-applications-and-services\" aria-label=\"tearing down all task applications and services permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tearing down All Task Applications and Services</h4>\n<p>With the conclusion of this example, you may also want to remove all instances on Cloud Foundry. The following commands accomplish that:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cf delete billsetuptask -f\ncf delete billrun -f\ncf delete pivotal-mysqlweb -f -r\ncf delete-service-key task-example-mysql EXTERNAL-ACCESS-KEY -f\ncf delete-service task-example-mysql -f</code></pre></div>\n      </div>\n<p>The important thing is that we need to delete the <code class=\"language-text\">EXTERNAL-ACCESS-KEY</code> service key before we can delete the <code class=\"language-text\">task-example-mysql</code> service itself. Additionally, the employed command flags are as follows:</p>\n<ul>\n<li><code class=\"language-text\">-f</code> Force deletion without confirmation</li>\n<li><code class=\"language-text\">-r</code> Also delete any mapped routes</li>\n</ul>\n<h3 id=\"kubernetes\" style=\"position:relative;\"><a href=\"#kubernetes\" aria-label=\"kubernetes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubernetes</h3>\n<p>This section walks you through running the <code class=\"language-text\">billrun</code> application on Kubernetes.</p>\n<h4 id=\"setting-up-the-kubernetes-cluster\" style=\"position:relative;\"><a href=\"#setting-up-the-kubernetes-cluster\" aria-label=\"setting up the kubernetes cluster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up the Kubernetes Cluster</h4>\n<p>For this example, we need a running <a href=\"/docs/installation/kubernetes/#creating-a-kubernetes-cluster\">Kubernetes cluster</a>, and we deploy to <code class=\"language-text\">minikube</code>.</p>\n<h5 id=\"verifying-that-minikube-is-running\" style=\"position:relative;\"><a href=\"#verifying-that-minikube-is-running\" aria-label=\"verifying that minikube is running permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verifying that Minikube is Running</h5>\n<p>To verify that Minikube is running, run the following command (shown with its output):</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">minikube status\nhost: Running\nkubelet: Running\napiserver: Running\nkubectl: Correctly Configured: pointing to minikube-vm at <span class=\"token number\">192.168</span>.99.100</code></pre></div>\n      </div>\n<h5 id=\"installing-the-database\" style=\"position:relative;\"><a href=\"#installing-the-database\" aria-label=\"installing the database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installing the Database</h5>\n<p>We install a MySQL server by using the default configuration from Spring Cloud Data Flow. To do so, run the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl apply -f https://raw.githubusercontent.com/spring-cloud/spring-cloud-dataflow/v2.8.4/src/kubernetes/mysql/mysql-deployment.yaml <span class=\"token punctuation\">\\</span>\n-f https://raw.githubusercontent.com/spring-cloud/spring-cloud-dataflow/v2.8.4/src/kubernetes/mysql/mysql-pvc.yaml <span class=\"token punctuation\">\\</span>\n-f https://raw.githubusercontent.com/spring-cloud/spring-cloud-dataflow/v2.8.4/src/kubernetes/mysql/mysql-secrets.yaml <span class=\"token punctuation\">\\</span>\n-f https://raw.githubusercontent.com/spring-cloud/spring-cloud-dataflow/v2.8.4/src/kubernetes/mysql/mysql-svc.yaml</code></pre></div>\n      </div>\n<h5 id=\"building-a-docker-image-for-the-sample-task-application\" style=\"position:relative;\"><a href=\"#building-a-docker-image-for-the-sample-task-application\" aria-label=\"building a docker image for the sample task application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Building a Docker Image for the Sample Task Application</h5>\n<p>We need to build a Docker image for the <a href=\"#batch_processing_with_spring_batch\"><code class=\"language-text\">billrun</code></a> app.</p>\n<p>To do so, we use the <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#build-your-image\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jib maven plugin</a>. If you downloaded the <a href=\"#batch_processing_with_spring_batch\">source distribution</a>, the jib plugin is already configured. If you built the apps from scratch, add the following under <code class=\"language-text\">plugins</code> in <code class=\"language-text\">pom.xml</code>:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.google.cloud.tools<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>jib-maven-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>0.10.1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>from</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span><span class=\"token punctuation\">></span></span>springcloud/openjdk<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>from</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>to</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span><span class=\"token punctuation\">></span></span>${docker.org}/${project.artifactId}:${docker.version}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>image</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>to</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>container</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>useCurrentTimestamp</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>useCurrentTimestamp</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>container</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></code></pre></div>\n      </div>\n<p>Then add the referenced properties under <code class=\"language-text\">properties</code> For this example, we use the following properties:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>docker.org</span><span class=\"token punctuation\">></span></span>springcloudtask<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>docker.org</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>docker.version</span><span class=\"token punctuation\">></span></span>${project.version}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>docker.version</span><span class=\"token punctuation\">></span></span></code></pre></div>\n      </div>\n<p>Now you can run the following commands to add the image to the <code class=\"language-text\">minikube</code> Docker registry:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">eval</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>minikube docker-env<span class=\"token variable\">)</span></span>\n./mvnw clean package jib:dockerBuild</code></pre></div>\n      </div>\n<p>Run the following command to verify its presence (by finding <code class=\"language-text\">springcloudtask/billrun</code> in the list of images):</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker images</code></pre></div>\n      </div>\n<div class=\"admonition note\"><p>Spring Cloud Data Flow has tested containers created by <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Boot's gradle/maven plugin</a>, <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#build-your-image\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jib maven plugin</a>, and the <code class=\"language-text\">docker build</code> command.</p></div>\n<h5 id=\"deploying-the-application\" style=\"position:relative;\"><a href=\"#deploying-the-application\" aria-label=\"deploying the application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying the Application</h5>\n<p>The simplest way to deploy a batch application is as a standalone <a href=\"https://kubernetes.io/docs/concepts/workloads/pods/pod/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pod</a>.\nDeploying batch apps as a <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Job</a> or <a href=\"https://kubernetes.io/docs/tasks/job/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CronJob</a> is considered best practice for production environments but is beyond the scope of this guide.</p>\n<p>Save the following content to <code class=\"language-text\">batch-app.yaml</code>:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Pod\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> billrun\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">restartPolicy</span><span class=\"token punctuation\">:</span> Never\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> task\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> springcloudtask/billrun<span class=\"token punctuation\">:</span>0.0.1<span class=\"token punctuation\">-</span>SNAPSHOT\n      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> SPRING_DATASOURCE_PASSWORD\n          <span class=\"token key atrule\">valueFrom</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">secretKeyRef</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mysql\n              <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">-</span>root<span class=\"token punctuation\">-</span>password\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> SPRING_DATASOURCE_URL\n          <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mysql<span class=\"token punctuation\">:</span>//mysql<span class=\"token punctuation\">:</span>3306/task\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> SPRING_DATASOURCE_USERNAME\n          <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> root\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> SPRING_DATASOURCE_DRIVER_CLASS_NAME\n          <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> com.mysql.jdbc.Driver\n  <span class=\"token key atrule\">initContainers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> init<span class=\"token punctuation\">-</span>mysql<span class=\"token punctuation\">-</span>database\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span><span class=\"token number\">5.6</span>\n      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> MYSQL_PWD\n          <span class=\"token key atrule\">valueFrom</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">secretKeyRef</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mysql\n              <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">-</span>root<span class=\"token punctuation\">-</span>password\n      <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">'sh'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'-c'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'mysql -h mysql -u root -e \"CREATE DATABASE IF NOT EXISTS task;\"'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span></code></pre></div>\n      </div>\n<p>To start the application, run the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl apply -f batch-app.yaml</code></pre></div>\n      </div>\n<p>When the task is complete, you should see output similar to the following:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl get pods\nNAME                     READY   STATUS      RESTARTS   AGE\nmysql-5cbb6c49f7-ntg2l   <span class=\"token number\">1</span>/1     Running     <span class=\"token number\">0</span>          4h\nbillrun                  <span class=\"token number\">0</span>/1     Completed   <span class=\"token number\">0</span>          10s</code></pre></div>\n      </div>\n<p>Now you can delete the pod. To do so, run the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl delete -f batch-app.yaml</code></pre></div>\n      </div>\n<p>Now log in to the <code class=\"language-text\">mysql</code> container to query the <code class=\"language-text\">BILL_STATEMENTS</code> table.\nGet the name of the <code class=\"language-text\">mysql</code>pod by using <code class=\"language-text\">kubectl get pods</code>, as shown earlier.\nThen log in and query the <code class=\"language-text\">BILL_STATEMENTS</code> table, as follows:</p>\n<!-- Rolling my own to disable erroneous formating -->\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\">\n<pre class=\"language-bash\"><code>kubectl exec -it mysql-5cbb6c49f7-ntg2l -- /bin/bash\n# mysql -u root -p$MYSQL_ROOT_PASSWORD\nmysql&gt; select * from task.BILL_STATEMENTS;\n</code></pre></div>\n      </div>\n<p>The output should look something like the following:</p>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>first_name</th>\n<th>last_name</th>\n<th>minutes</th>\n<th>data_usage</th>\n<th>bill_amount</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jane</td>\n<td>doe</td>\n<td>500</td>\n<td>1000</td>\n<td>6.00</td>\n</tr>\n<tr>\n<td>2</td>\n<td>john</td>\n<td>doe</td>\n<td>550</td>\n<td>1500</td>\n<td>7.00</td>\n</tr>\n<tr>\n<td>3</td>\n<td>melissa</td>\n<td>smith</td>\n<td>600</td>\n<td>1550</td>\n<td>7.55</td>\n</tr>\n<tr>\n<td>4</td>\n<td>michael</td>\n<td>smith</td>\n<td>650</td>\n<td>1500</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>5</td>\n<td>mary</td>\n<td>jones</td>\n<td>700</td>\n<td>1500</td>\n<td>8.50</td>\n</tr>\n</tbody>\n</table>\n<p>To uninstall <code class=\"language-text\">mysql</code>, run the following command:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl delete all -l <span class=\"token assign-left variable\">app</span><span class=\"token operator\">=</span>mysql</code></pre></div>\n      </div>\n<h2 id=\"database-specific-notes\" style=\"position:relative;\"><a href=\"#database-specific-notes\" aria-label=\"database specific notes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Database Specific Notes</h2>\n<h3 id=\"microsoft-sql-server\" style=\"position:relative;\"><a href=\"#microsoft-sql-server\" aria-label=\"microsoft sql server permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Microsoft SQL Server</h3>\n<p>Using Spring Batch versions 4.x and older along with the Microsoft SQL Server database you may receive a deadlock from the database when launching multiple Spring Batch applications simultaneously.\nThis issue was reported in this <a href=\"https://github.com/spring-projects/spring-batch/issues/1448\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">issue</a>.\nOne solution is to create sequences instead of tables and create a <code class=\"language-text\">BatchConfigurer</code> to use them.<br>\nDrop the following tables and replace them with sequences using the same names:</p>\n<ul>\n<li><code class=\"language-text\">BATCH_STEP_EXECUTION_SEQ</code></li>\n<li><code class=\"language-text\">BATCH_JOB_EXECUTION_SEQ</code></li>\n<li><code class=\"language-text\">BATCH_JOB_SEQ</code></li>\n</ul>\n<div class=\"admonition note\"><p><strong>NOTE:</strong> Be sure to set each sequence value to be the table's current <code class=\"language-text\">id</code> + 1.</p></div>\n<p>Once the tables have been replaced with sequences, then update the batch application to override the <code class=\"language-text\">BatchConfigurer</code>,\nsuch that it will utilize its own incrementer. One example of this implementation is shown in the sections below:</p>\n<h4 id=\"incrementer\" style=\"position:relative;\"><a href=\"#incrementer\" aria-label=\"incrementer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Incrementer</h4>\n<p>Create your own incrementer:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DataSource</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>jdbc<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>incrementer<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AbstractSequenceMaxValueIncrementer</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SqlServerSequenceMaxValueIncrementer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractSequenceMaxValueIncrementer</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token class-name\">SqlServerSequenceMaxValueIncrementer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataSource</span> dataSource<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> incrementerName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">,</span> incrementerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token annotation punctuation\">@Override</span>\n\t<span class=\"token keyword\">protected</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getSequenceQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"select next value for \"</span> <span class=\"token operator\">+</span> <span class=\"token function\">getIncrementerName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n      </div>\n<h4 id=\"batchconfigurer\" style=\"position:relative;\"><a href=\"#batchconfigurer\" aria-label=\"batchconfigurer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BatchConfigurer</h4>\n<p>In your configuration create your own <code class=\"language-text\">BatchConfigurer</code> to utilize the incrementer shown above:</p>\n<div class=\"spring-code\">\n        <button onClick=\"codeToClipboard(event)\" class=\"button button-clipboard\" type=\"button\">Copy</button>\n        <div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Bean</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">BatchConfigurer</span> <span class=\"token function\">batchConfigurer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataSource</span> dataSource<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultBatchConfigurer</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">protected</span> <span class=\"token class-name\">JobRepository</span> <span class=\"token function\">createJobRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">getJobRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">JobRepository</span> <span class=\"token function\">getJobRepository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">JobRepositoryFactoryBean</span> factory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JobRepositoryFactoryBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">DefaultDataFieldMaxValueIncrementerFactory</span> incrementerFactory <span class=\"token operator\">=</span>\n                    <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultDataFieldMaxValueIncrementerFactory</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token annotation punctuation\">@Override</span>\n                        <span class=\"token keyword\">public</span> <span class=\"token class-name\">DataFieldMaxValueIncrementer</span> <span class=\"token function\">getIncrementer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> incrementerType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> incrementerName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token keyword\">return</span> <span class=\"token function\">getIncrementerForApp</span><span class=\"token punctuation\">(</span>incrementerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            factory<span class=\"token punctuation\">.</span><span class=\"token function\">setIncrementerFactory</span><span class=\"token punctuation\">(</span>incrementerFactory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            factory<span class=\"token punctuation\">.</span><span class=\"token function\">setDataSource</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            factory<span class=\"token punctuation\">.</span><span class=\"token function\">setTransactionManager</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTransactionManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            factory<span class=\"token punctuation\">.</span><span class=\"token function\">setIsolationLevelForCreate</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ISOLATION_REPEATABLE_READ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                factory<span class=\"token punctuation\">.</span><span class=\"token function\">afterPropertiesSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> factory<span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                exception<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">DataFieldMaxValueIncrementer</span> <span class=\"token function\">getIncrementerForApp</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> incrementerName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n            <span class=\"token class-name\">DefaultDataFieldMaxValueIncrementerFactory</span> incrementerFactory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultDataFieldMaxValueIncrementerFactory</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">DataFieldMaxValueIncrementer</span> incrementer <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dataSource <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">String</span> databaseType<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    databaseType <span class=\"token operator\">=</span> <span class=\"token class-name\">DatabaseType</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromMetaData</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">MetaDataAccessException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalStateException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasText</span><span class=\"token punctuation\">(</span>databaseType<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> databaseType<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SQLSERVER\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isSqlServerTableSequenceAvailable</span><span class=\"token punctuation\">(</span>incrementerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        incrementer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SqlServerSequenceMaxValueIncrementer</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">,</span> incrementerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>incrementer <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    incrementer <span class=\"token operator\">=</span> incrementerFactory<span class=\"token punctuation\">.</span><span class=\"token function\">getIncrementer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DatabaseType</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromMetaData</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> incrementerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    exception<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">return</span> incrementer<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isSqlServerTableSequenceAvailable</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> incrementerName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">boolean</span> result <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">DatabaseMetaData</span> metaData <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                metaData <span class=\"token operator\">=</span> dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMetaData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> types <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"TABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">ResultSet</span> tables <span class=\"token operator\">=</span> metaData<span class=\"token punctuation\">.</span><span class=\"token function\">getTables</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"%\"</span><span class=\"token punctuation\">,</span> types<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>tables<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tables<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TABLE_NAME\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>incrementerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        result <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> sqe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                sqe<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n      </div>\n<div class=\"admonition note\"><p><strong>NOTE:</strong> The Isolation Level for create has been set to <code class=\"language-text\">ISOLATION_REPEATABLE_READ</code> to prevent deadlock on creating entries in batch tables.</p></div>\n<h4 id=\"dependencies\" style=\"position:relative;\"><a href=\"#dependencies\" aria-label=\"dependencies permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dependencies</h4>\n<p>It is required that you use Spring Cloud Task version 2.3.3 or above. This is because\nSpring Cloud Task 2.3.3 will use a <code class=\"language-text\">TASK_SEQ</code> sequence if one is available.</p>\n<div class=\"admonition note\"><p><strong>NOTE:</strong> If using composed tasks, be sure to be using Spring Cloud Data Flow 2.8.x and above.</p></div>","headings":[{"value":"Batch Processing with Spring Batch","depth":1},{"value":"Development","depth":2},{"value":"Introducing Spring Batch","depth":3},{"value":"Our Batch Job","depth":3},{"value":"Initializr","depth":3},{"value":"Setting up MySQL","depth":3},{"value":"Building The Application","depth":3},{"value":"Testing","depth":3},{"value":"Deployment","depth":2},{"value":"Local","depth":3},{"value":"Cleanup","depth":4},{"value":"Cloud Foundry","depth":3},{"value":"Requirements","depth":4},{"value":"Building the Application","depth":4},{"value":"Setting up Cloud Foundry","depth":4},{"value":"Task Concepts in Cloud Foundry","depth":4},{"value":"Running <code class=\"language-text\">billrun</code> on Cloud Foundry","depth":4},{"value":"Validating the Database Results","depth":4},{"value":"Using Local Tools (MySQLWorkbench)","depth":5},{"value":"Using a Database GUI Deployed to Cloud Foundry","depth":5},{"value":"Tearing down All Task Applications and Services","depth":4},{"value":"Kubernetes","depth":3},{"value":"Setting up the Kubernetes Cluster","depth":4},{"value":"Verifying that Minikube is Running","depth":5},{"value":"Installing the Database","depth":5},{"value":"Building a Docker Image for the Sample Task Application","depth":5},{"value":"Deploying the Application","depth":5},{"value":"Database Specific Notes","depth":2},{"value":"Microsoft SQL Server","depth":3},{"value":"Incrementer","depth":4},{"value":"BatchConfigurer","depth":4},{"value":"Dependencies","depth":4}],"fields":{"path":"/docs/batch-developer-guides/batch/spring-batch/","version":"2.8.x","category":"batch-developer-guides","sourcePath":"pages/4-batch-developer-guides/2-batch/2-spring-batch.md"},"frontmatter":{"title":"Spring Batch Jobs","summary":null,"path":"batch-developer-guides/batch/spring-batch/","toc":null,"prevNext":null}}},"pageContext":{"slug":"/docs/batch-developer-guides/batch/spring-batch/","version":"2.8.x","versionPath":""}},"staticQueryHashes":["2044043181"]}